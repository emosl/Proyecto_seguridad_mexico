var Ku=Object.create;var st=Object.defineProperty,Xu=Object.defineProperties,el=Object.getOwnPropertyDescriptor,tl=Object.getOwnPropertyDescriptors,rl=Object.getOwnPropertyNames,Ur=Object.getOwnPropertySymbols,ol=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty,Ws=Object.prototype.propertyIsEnumerable;var Hs=(e,t,r)=>t in e?st(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))fn.call(t,r)&&Hs(e,r,t[r]);if(Ur)for(var r of Ur(t))Ws.call(t,r)&&Hs(e,r,t[r]);return e},D=(e,t)=>Xu(e,tl(t)),Ys=e=>st(e,"__esModule",{value:!0}),n=(e,t)=>st(e,"name",{value:t,configurable:!0});var Ae=e=>typeof e=="symbol"?e:e+"",F=(e,t)=>{var r={};for(var o in e)fn.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Ur)for(var o of Ur(e))t.indexOf(o)<0&&Ws.call(e,o)&&(r[o]=e[o]);return r};var Js=(e,t)=>{for(var r in t)st(e,r,{get:t[r],enumerable:!0})},$s=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of rl(t))!fn.call(e,s)&&(r||s!=="default")&&st(e,s,{get:()=>t[s],enumerable:!(o=el(t,s))||o.enumerable});return e},b=(e,t)=>$s(Ys(st(e!=null?Ku(ol(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),nl=(e=>(t,r)=>e&&e.get(t)||(r=$s(Ys({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var bm={};Js(bm,{AUTH_CHECK:()=>kn,AUTH_ERROR:()=>jn,AUTH_GET_PERMISSIONS:()=>Gn,AUTH_LOGIN:()=>Un,AUTH_LOGOUT:()=>Vn,AdminRouter:()=>gn,AuthContext:()=>it,Authenticated:()=>Kl,BasenameContextProvider:()=>yn,CREATE:()=>io,ChoicesContext:()=>Ar,ChoicesContextProvider:()=>Bp,ComponentPropType:()=>Wa,CoreAdmin:()=>Cd,CoreAdminContext:()=>Fo,CoreAdminRoutes:()=>No,CoreAdminUI:()=>$n,CreateBase:()=>tp,CreateContext:()=>bt,CreateContextProvider:()=>os,CreateController:()=>rp,CustomRoutes:()=>Qi,DEFAULT_LOCALE:()=>Mn,DELETE:()=>lo,DELETE_MANY:()=>po,DataProviderContext:()=>mt,EditBase:()=>ap,EditContext:()=>vt,EditContextProvider:()=>as,EditController:()=>ip,ExporterContext:()=>Bi,FieldTitle:()=>Qa,Form:()=>Xp,FormDataConsumer:()=>xu,FormGroupContext:()=>Nr,FormGroupContextProvider:()=>mm,FormGroupsContext:()=>Ot,FormGroupsProvider:()=>Ts,GET_LIST:()=>oo,GET_MANY:()=>so,GET_MANY_REFERENCE:()=>ao,GET_ONE:()=>no,HIDE_FILTER:()=>Mt,HttpError:()=>yo,I18N_CHANGE_LOCALE:()=>Lm,I18N_TRANSLATE:()=>Sm,I18nContext:()=>ut,I18nContextProvider:()=>Zt,InferenceTypes:()=>_d,InferredElement:()=>Q,LabelPrefixContext:()=>Xt,LabelPrefixContextProvider:()=>In,ListBase:()=>yp,ListContext:()=>wt,ListContextProvider:()=>fs,ListController:()=>gp,ListFilterContext:()=>Dt,ListPaginationContext:()=>At,ListSortContext:()=>It,NotificationContext:()=>Yt,NotificationContextProvider:()=>Tn,OptionalRecordContextProvider:()=>ss,Ready:()=>Wr,RecordContext:()=>br,RecordContextProvider:()=>Pe,Resource:()=>Bn,ResourceContext:()=>ur,ResourceContextProvider:()=>ye,ResourceDefinitionContext:()=>Do,ResourceDefinitionContextProvider:()=>Jn,SET_FILTER:()=>Ve,SET_PAGE:()=>rt,SET_PER_PAGE:()=>Ct,SET_SORT:()=>xt,SHOW_FILTER:()=>Tt,SORT_ASC:()=>ce,SORT_DESC:()=>Rr,SaveContext:()=>xr,SaveContextProvider:()=>Cr,ShowBase:()=>zp,ShowContext:()=>Nt,ShowContextProvider:()=>xs,ShowController:()=>Wp,StoreContext:()=>Ht,StoreContextProvider:()=>Cn,StoreSetter:()=>gl,TestTranslationProvider:()=>Pl,TranslatableContext:()=>Bt,TranslatableContextProvider:()=>hl,UPDATE:()=>co,UPDATE_MANY:()=>uo,ValidationError:()=>Tu,WithPermissions:()=>Kr,WithRecord:()=>sp,choices:()=>dm,combine2Validators:()=>Fu,combineDataProviders:()=>nd,composeSyncValidators:()=>rm,composeValidators:()=>Es,convertLegacyAuthProvider:()=>to,convertLegacyDataProvider:()=>fo,defaultDataProvider:()=>Be,defaultExporter:()=>ht,downloadCSV:()=>Uo,email:()=>um,escapePath:()=>Ca,fetchActionsWithArrayOfIdentifiedRecordsResponse:()=>mo,fetchActionsWithArrayOfRecordsResponse:()=>_n,fetchActionsWithRecordResponse:()=>Qn,fetchActionsWithTotalResponse:()=>zn,fetchRelatedRecords:()=>qi,fetchUtils:()=>Wn,getElementsFromRecords:()=>oc,getFieldLabelTranslationArgs:()=>Qr,getFormGroupState:()=>Wu,getListControllerProps:()=>mp,getMutationMode:()=>Ba,getNumberOrDefault:()=>us,getQuery:()=>Gc,getRecordFromLocation:()=>Cc,getSelectedReferencesStatus:()=>Rs,getSimpleValidationResolver:()=>an,getStatusForArrayInput:()=>cu,getStatusForInput:()=>au,getStorage:()=>Le,getSuggestionsFactory:()=>qu,getValuesFromRecords:()=>je,hasCustomParams:()=>Vc,inferTypeFromValues:()=>ts,injectedProps:()=>ls,isRequired:()=>pm,linkToRecord:()=>il,localStorageStore:()=>ml,maxLength:()=>sm,maxValue:()=>im,memoryStore:()=>Wt,mergeRefs:()=>Al,mergeTranslations:()=>Cl,minLength:()=>nm,minValue:()=>am,number:()=>cm,parseQueryFromLocation:()=>jc,queryReducer:()=>Pr,regex:()=>Nu,removeDoubleSlashes:()=>de,removeEmpty:()=>te,removeKey:()=>zr,required:()=>om,resolveBrowserLocale:()=>xl,resolveRedirectTo:()=>cl,sanitizeFetchType:()=>Xl,sanitizeListRestProps:()=>fp,setSubmissionErrors:()=>Ms,shallowEqual:()=>Ln,testDataProvider:()=>sd,undoableEventEmitter:()=>Te,useApplyInputDefaultValues:()=>ws,useAugmentedForm:()=>bs,useAuthProvider:()=>oe,useAuthState:()=>$r,useAuthenticated:()=>se,useBasename:()=>le,useCheckAuth:()=>Ze,useCheckMinimumRequiredProps:()=>cc,useChoices:()=>Ds,useChoicesContext:()=>qp,useCreate:()=>Hn,useCreateContext:()=>op,useCreateController:()=>Lr,useCreatePath:()=>zt,useDataProvider:()=>Y,useDeepCompareEffect:()=>Nl,useDelete:()=>sr,useDeleteMany:()=>md,useDeleteWithConfirmController:()=>dc,useDeleteWithUndoController:()=>lc,useEditContext:()=>cp,useEditController:()=>vr,useEventCallback:()=>En,useExpanded:()=>bp,useFilterState:()=>ac,useFormGroup:()=>ym,useFormGroupContext:()=>Is,useGetIdentity:()=>gi,useGetList:()=>qe,useGetMany:()=>ud,useGetManyAggregate:()=>Ke,useGetManyReference:()=>nr,useGetOne:()=>or,useGetPermissions:()=>pt,useGetResourceLabel:()=>we,useGetValidationErrorMessage:()=>As,useI18nProvider:()=>Je,useInitializeFormWithRecord:()=>gm,useInput:()=>Pm,useIsDataLoaded:()=>id,useIsFormInvalid:()=>Ss,useIsMounted:()=>Dn,useLabelPrefix:()=>Kt,useList:()=>Dr,useListContext:()=>xp,useListController:()=>Er,useListFilterContext:()=>Tp,useListPaginationContext:()=>Mp,useListParams:()=>cs,useListSortContext:()=>Sp,useLoading:()=>cd,useLocale:()=>Tl,useLocaleState:()=>$e,useLocales:()=>Ml,useLogin:()=>mi,useLogout:()=>Ue,useLogoutIfAccessDenied:()=>eo,useMutationMiddlewares:()=>Sr,useNotificationContext:()=>Jt,useNotify:()=>V,usePaginationState:()=>Lt,usePermissions:()=>Zr,usePermissionsOptimized:()=>Br,usePickFilterContext:()=>ds,usePickPaginationContext:()=>ms,usePickSaveContext:()=>Tr,usePickSortContext:()=>ps,usePrevious:()=>Xa,useRecordContext:()=>he,useRecordSelection:()=>xe,useRedirect:()=>pe,useReference:()=>Ps,useReferenceArrayFieldController:()=>Dp,useReferenceArrayInputController:()=>Vp,useReferenceInputController:()=>_p,useReferenceManyFieldController:()=>Ap,useReferenceOneFieldController:()=>Fp,useRefresh:()=>rr,useRegisterMutationMiddleware:()=>Xd,useRemoveFromStore:()=>An,useResetStore:()=>Fn,useResourceContext:()=>z,useResourceDefinition:()=>qn,useResourceDefinitionContext:()=>ar,useResourceDefinitions:()=>dr,useSafeSetState:()=>W,useSaveContext:()=>Mr,useScrollToTop:()=>Rn,useSetLocale:()=>Sl,useShowContext:()=>Hp,useShowController:()=>Ir,useSortState:()=>St,useStore:()=>me,useStoreContext:()=>be,useSuggestions:()=>hm,useTimeout:()=>wn,useTranslatable:()=>bl,useTranslatableContext:()=>vl,useTranslate:()=>_,useTranslateLabel:()=>qt,useUnselect:()=>hr,useUnselectAll:()=>Lp,useUpdate:()=>Yn,useUpdateMany:()=>pd,useWarnWhenUnsavedChanges:()=>Ls,useWhyDidYouUpdate:()=>vn,validQueryParams:()=>Uc,warning:()=>lt});var Zn=b(require("react"));var Ee=b(require("react")),Io=require("react"),Ao=require("react-query");var Ye=b(require("react")),ea=require("react"),ta=require("react-router-dom"),ra=require("history");var Zs=b(require("react")),kr=require("react"),Bs=require("react-router");function qs({basename:e,children:t,history:r}){let[o,s]=(0,kr.useState)({action:r.action,location:r.location});return(0,kr.useLayoutEffect)(()=>r.listen(s),[r]),Zs.createElement(Bs.Router,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}n(qs,"HistoryRouter");var Xs=b(require("react"));var Ks=require("react"),jr=(0,Ks.createContext)("");var yn=n(({children:e,basename:t})=>Xs.createElement(jr.Provider,{value:t},e),"BasenameContextProvider");var gn=n(({history:e,basename:t="",children:r})=>{let o=(0,ta.useInRouterContext)();return Ye.createElement(yn,{basename:o?t:""},Ye.createElement(o?sl:al,{basename:t,history:e},r))},"AdminRouter"),sl=n(({children:e})=>Ye.createElement(Ye.Fragment,null,e),"DummyRouter"),al=n(({children:e,history:t})=>{let r=(0,ea.useMemo)(()=>t||(0,ra.createHashHistory)(),[t]);return Ye.createElement(qs,{history:r},e)},"InternalRouter");var il=n((e,t,r="edit")=>{let o=`${e}/${encodeURIComponent(t)}`;return r==="show"?`${o}/show`:o},"linkToRecord");var cl=n((e,t,r,o,s="")=>{if(typeof e=="function"){let a=e(t,r,o);return typeof a=="string"?at(`${s}/${a}`):f({pathname:at(`${s}/${a.pathname}`)},a)}switch(e){case"list":return at(`${s}/${t}`);case"create":return at(`${s}/${t}/create`);case"edit":return at(`${s}/${t}/${encodeURIComponent(r)}`);case"show":return at(`${s}/${t}/${encodeURIComponent(r)}/show`);default:return e}},"resolveRedirectTo"),at=n(e=>e.replace("//","/"),"removeDoubleSlashes");var oa=require("react");var le=n(()=>(0,oa.useContext)(jr),"useBasename");var na=require("react");var zt=n(()=>{let e=le();return(0,na.useCallback)(({resource:t,id:r,type:o})=>{switch(o){case"list":return de(`${e}/${t}`);case"create":return de(`${e}/${t}/create`);case"edit":return de(`${e}/${t}/${encodeURIComponent(r)}`);case"show":return de(`${e}/${t}/${encodeURIComponent(r)}/show`);default:return o}},[e])},"useCreatePath"),de=n(e=>e.replace("//","/"),"removeDoubleSlashes");var sa=require("react"),aa=require("react-router-dom"),ia=require("history");var pe=n(()=>{let e=(0,aa.useNavigate)(),t=le(),r=zt();return(0,sa.useCallback)((o,s="",a,i,u={})=>{if(o)if(typeof o=="function"){let c=o(s,a,i),d=typeof c=="string"?`${t}/${c}`:f({pathname:`${t}/${c.pathname}`},c);e(typeof d=="string"?(0,ia.parsePath)(d):d,{state:f({_scrollToTop:!0},u)});return}else if(typeof o=="string"&&o.startsWith("http")&&window){window.location.href=o;return}else{e(r({resource:s,id:a,type:o}),{state:f({_scrollToTop:!0},u)});return}else return},[e,t,r])},"useRedirect");var ca=require("react"),ua=require("react-router-dom"),Rn=n(()=>{let e=(0,ua.useLocation)();(0,ca.useEffect)(()=>{var t;((t=e.state)==null?void 0:t._scrollToTop)&&typeof window!="undefined"&&window.scrollTo(0,0)},[e])},"useScrollToTop");var la=require("react"),ul={id:""},ll={login:()=>Promise.resolve(),logout:()=>Promise.resolve(),checkAuth:()=>Promise.resolve(),checkError:()=>Promise.resolve(),getPermissions:()=>Promise.resolve(),getIdentity:()=>Promise.resolve(ul)},da=(0,la.createContext)(ll);da.displayName="AuthContext";var it=da;var pa=require("react");var ct={loginUrl:"/login",afterLoginUrl:"/"},dl=n(()=>(0,pa.useContext)(it),"useAuthProvider"),oe=dl;var si=require("react");var ni=require("react");var Oe=require("react"),Jr=require("react-router-dom");var Se="RaStore",Vr=Se.length,pl=n(()=>{if(typeof window=="undefined"||window.localStorage==null)return!1;try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch{return!1}},"testLocalStorage"),Pn=pl(),ml=n((e="1")=>{let t={},r=n((s,a)=>{Object.keys(t).forEach(i=>{!t[i]||t[i].key===s&&t[i].callback(a)})},"publish"),o=n(s=>{if(s.key.substring(0,Vr)!==Se)return;let a=s.key.substring(Vr+1),i=ma(s.newValue);Object.keys(t).forEach(u=>{!t[u]||t[u].key===a&&(i===null?t[u].callback(void 0):t[u].callback(i==null?void 0:i))})},"onLocalStorageChange");return{setup:()=>{if(Pn){let s=Le().getItem(`${Se}.version`);s&&s!==e&&Le().clear(),Le().setItem(`${Se}.version`,e),window.addEventListener("storage",o)}},teardown:()=>{Pn&&window.removeEventListener("storage",o)},getItem(s,a){let i=ma(Le().getItem(`${Se}.${s}`));return i==null?a:i},setItem(s,a){a===void 0?Le().removeItem(`${Se}.${s}`):Le().setItem(`${Se}.${s}`,JSON.stringify(a)),r(s,a)},removeItem(s){Le().removeItem(`${Se}.${s}`),r(s,void 0)},reset(){let s=Le();for(let a=0;a<s.length;a++)if(s.key(a).substring(0,Vr)===Se){let i=s.key(a).substring(Vr+1);s.removeItem(s.key(a)),r(i,void 0)}},subscribe:(s,a)=>{let i=Math.random().toString();return t[i]={key:s,callback:a},()=>{delete t[i]}}}},"localStorageStore"),ma=n(e=>{try{return JSON.parse(e)}catch{return e}},"tryParse"),hn=class{constructor(){this.valuesMap=new Map}getItem(t){return this.valuesMap.has(t)?String(this.valuesMap.get(t)):null}setItem(t,r){this.valuesMap.set(t,r)}removeItem(t){this.valuesMap.delete(t)}clear(){this.valuesMap.clear()}key(t){if(arguments.length===0)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(this.valuesMap.keys())[t]}get length(){return this.valuesMap.size}};n(hn,"LocalStorageShim");var fl=new hn,Le=n(()=>Pn?window.localStorage:fl,"getStorage");var fa=b(require("lodash/set")),xn=b(require("lodash/unset")),ya=b(require("lodash/get")),Wt=n((e={})=>{let t={},r=n((o,s)=>{Object.keys(t).forEach(a=>{!t[a]||t[a].key===o&&t[a].callback(s)})},"publish");return{setup:()=>{},teardown:()=>{Object.keys(e).forEach(o=>delete e[o])},getItem(o,s){return(0,ya.default)(e,o,s)},setItem(o,s){(0,fa.default)(e,o,s),r(o,s)},removeItem(o){(0,xn.default)(e,o),r(o,void 0)},reset(){Object.keys(e).forEach(o=>{(0,xn.default)(e,o),r(o,void 0)})},subscribe:(o,s)=>{let a=Math.random().toString();return t[a]={key:o,callback:s},()=>{delete t[a]}}}},"memoryStore");var ga=require("react");var yl=Wt(),Ht=(0,ga.createContext)(yl);var Ra=b(require("react")),Pa=require("react");var Cn=n(({value:e,children:t})=>((0,Pa.useEffect)(()=>(e.setup(),()=>{e.teardown()}),[e]),Ra.createElement(Ht.Provider,{value:e},t)),"StoreContextProvider");var Gr=b(require("react")),xa=require("react");var ha=require("react");var be=n(()=>(0,ha.useContext)(Ht),"useStoreContext");var gl=n(({value:e,name:t,children:r})=>{let{setItem:o}=be();return(0,xa.useEffect)(()=>{o(t,e)},[t,o,e]),Gr.createElement(Gr.Fragment,null,r)},"StoreSetter");var Yr=require("react");var Ca=n(e=>e.replace(/(\(|\))/g,"\\$1"),"default");var Sn=b(require("react")),Va=require("react");var Ea=b(require("react")),wa=b(require("lodash/get"));var va=b(require("react")),$t=require("react");var Ta=require("react"),ut=(0,Ta.createContext)({translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"});ut.displayName="I18nContext";var La=require("react");var Sa=require("react");var Ma=require("react"),Yt=(0,Ma.createContext)({notifications:[],addNotification:()=>{},takeNotification:()=>{},resetNotifications:()=>{}});var Jt=n(()=>(0,Sa.useContext)(Yt),"useNotificationContext");var V=n(()=>{let{addNotification:e}=Jt();return(0,La.useCallback)((t,r={})=>{let a=r,{type:o="info"}=a,s=F(a,["type"]);e({message:t,type:o,notificationOptions:s})},[e])},"useNotify");var ba=b(require("react")),Fe=require("react");var Tn=n(({children:e})=>{let[t,r]=(0,Fe.useState)([]),o=(0,Fe.useCallback)(u=>{r(c=>[...c,u])},[]),s=(0,Fe.useCallback)(()=>{let[u,...c]=t;return r(c),u},[t]),a=(0,Fe.useCallback)(()=>{r([])},[]),i=(0,Fe.useMemo)(()=>({notifications:t,addNotification:o,takeNotification:s,resetNotifications:a}),[t]);return ba.createElement(Yt.Provider,{value:i},e)},"NotificationContextProvider");var Zt=n(({value:e=Rl,children:t})=>{let[r]=me("locale"),o=V(),[s,a]=(0,$t.useState)(0),[i,u]=(0,$t.useState)(r===e.getLocale());return(0,$t.useEffect)(()=>{r&&e.getLocale()!==r?new Promise(c=>{c(e.changeLocale(r))}).then(()=>{a(c=>c+1),u(!0)}).catch(c=>{u(!0),o("ra.notification.i18n_error",{type:"warning"}),console.error(c)}):u(!0)},[e,r,o]),i?va.createElement(ut.Provider,{value:e,key:s},t):null},"I18nContextProvider"),Rl={translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"};var Pl=n(({translate:e,messages:t,children:r})=>Ea.createElement(Zt,{value:{translate:t?(o,s)=>{let a=(0,wa.default)(t,o);return a?typeof a=="function"?a(s):a:s._}:e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"}},r),"TestTranslationProvider");var Da=require("react"),Bt=(0,Da.createContext)(void 0);var Ia=b(require("react"));var hl=n(({children:e,value:t})=>Ia.createElement(Bt.Provider,{value:t},e),"TranslatableContextProvider");var Aa=b(require("lodash/merge"));var xl=n((e,t)=>{let{language:r,browserLanguage:o,userLanguage:s}=window.navigator,a=r||o||s||e||Mn;return(t==null?void 0:t.fullLocale)?a:a.split("-")[0]},"resolveBrowserLocale"),Cl=n((...e)=>(0,Aa.default)({},...e),"mergeTranslations");var Na=require("react");var Fa=require("react");var Je=n(()=>(0,Fa.useContext)(ut),"useI18nProvider");var $e=n(()=>{let e=Je(),t=(0,Na.useMemo)(()=>e.getLocale(),[e]);return me("locale",t)},"useLocaleState");var Tl=n(()=>{let[e]=$e();return e},"useLocale");var Oa=require("react");var Ml=n(e=>{var o;let t=Je(),r=(0,Oa.useMemo)(()=>(t==null?void 0:t.getLocales)?t==null?void 0:t.getLocales():[],[t]);return(o=e==null?void 0:e.locales)!=null?o:r},"useLocales");var Sl=n(()=>{let[,e]=$e();return e},"useSetLocale");var _r=require("react");var ka=require("react");var Ua=require("react");var _=n(()=>{let e=Je(),t=(0,Ua.useCallback)((r,o)=>e.translate(r,o),[e]);return e?t:Ll},"useTranslate"),Ll=n(e=>e,"identity");var qt=n(()=>{let e=_(),t=Kt(),r=z();return(0,ka.useCallback)(({source:o,label:s,resource:a})=>s===!1||s===""?null:s&&typeof s!="string"?s:e(...Qr({label:s,prefix:t,resource:a,resourceFromContext:r,source:o})),[t,r,e])},"useTranslateLabel");var bl=n(e=>{let[t]=$e(),{defaultLocale:r=t,locales:o}=e,[s,a]=(0,_r.useState)(r),i=z({}),u=qt();return(0,_r.useMemo)(()=>({getSource:(d,p=s)=>`${d}.${p}`,getLabel:(d,p)=>u({source:d,resource:i,label:p}),locales:o,selectedLocale:s,selectLocale:a}),[o,i,s,u])},"useTranslatable");var ja=require("react");var vl=n(()=>{let e=(0,ja.useContext)(Bt);if(!e)throw new Error("useTranslatableContext must be used inside a TranslatableContextProvider");return e},"useTranslatableContext");var Mn="en";var Ga=n(e=>{let{source:t,label:r,resource:o,isRequired:s}=e,a=qt();return r===!1||r===""?null:r&&typeof r!="string"?r:Sn.createElement("span",null,a({label:r,resource:o,source:t}),s&&Sn.createElement("span",{"aria-hidden":"true"},"\u2009*"))},"FieldTitle");Ga.displayName="FieldTitle";var Qa=(0,Va.memo)(Ga);var _a=b(require("inflection")),Qr=n(e=>{if(!e)return[""];let{label:t,prefix:r,resource:o,resourceFromContext:s,source:a}=e;if(typeof t!="undefined")return[t,{_:t}];if(typeof a=="undefined")return[""];let{sourceWithoutDigits:i,sourceSuffix:u}=El(a),c=_a.default.transform(u.replace(/\./g," "),["underscore","humanize"]);return o?[`resources.${o}.fields.${i}`,{_:c}]:r?[`${r}.${i}`,{_:c}]:[`resources.${s}.fields.${i}`,{_:c}]},"default"),El=n(e=>{let t=e.replace(/\.\d+\./g,"."),r=e.split("."),o;r.forEach((a,i)=>{wl(a)&&(o=i)});let s=o!=null?r.slice(o+1).join("."):e;return{sourceWithoutDigits:t,sourceSuffix:s}},"getSourceParts"),wl=n(e=>{for(let t=e.length-1;t>=0;t--){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0},"onlyDigits");var za=require("react-is"),Wa=n((e,t,r)=>{if(e[t]&&!(0,za.isValidElementType)(e[t]))return new Error(`Invalid prop '${t}' supplied to '${r}': the prop is not a valid React component`)},"default");function Ha(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}n(Ha,"is");var Ln=n((e,t)=>{if(Ha(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;let r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Ha(e[r[s]],t[r[s]]))return!1;return!0},"shallowEqual");var Dl=n(e=>e&&Object.prototype.toString.call(e)==="[object Object]","isObject"),Il=n(e=>e instanceof Date?!1:e===""||e===null||e===void 0||Ln(e,{}),"isEmpty"),Ya=n(e=>Object.keys(e).reduce((t,r)=>{let o=e[r];return Dl(e[r])&&(o=Ya(e[r])),Il(o)?t:D(f({},t),{[r]:o})},{}),"removeEmpty"),te=Ya;var Ja=n((e,t)=>Object.keys(e).reduce((r,o)=>o!==t?Object.assign({},r,{[o]:e[o]}):r,{}),"removeKey"),$a=n((e,t)=>{let r=t.split(".");if(r.length===1)return Ja(e,t);let o=r[0];if(e[o]===void 0)return e;let s=$a(e[o],r.slice(1).join("."));return Object.keys(s).length===0?Ja(e,o):Object.assign({},e,{[o]:s})},"deepRemoveKey"),zr=$a;var K=b(require("react")),Za=require("react"),Ne={root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",fontFamily:'"Roboto", sans-serif'},main:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",flexDirection:"column",background:"linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)",color:"white",fontSize:"1.5em",fontWeight:"bold"},secondary:{height:"20vh",background:"#e8e8e8",color:"black",display:"flex",alignItems:"center",justifyContent:"space-evenly"},link:{textAlign:"center",width:150,display:"block",textDecoration:"none",color:"black",opacity:.7},linkHovered:{opacity:1},image:{width:50},logo:{height:100}},bn=n(({img:e,label:t,href:r})=>{let[o,s]=(0,Za.useState)(!1);return K.createElement("div",null,K.createElement("a",{href:r,style:o?f(f({},Ne.link),Ne.linkHovered):Ne.link,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},K.createElement("img",{src:e,alt:t,style:Ne.image}),K.createElement("br",null),t))},"Button"),Wr=n(()=>process.env.NODE_ENV==="production"?K.createElement("span",null):K.createElement("div",{style:Ne.root},K.createElement("div",{style:Ne.main},K.createElement("img",{style:Ne.logo,src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",alt:"react-admin logo"}),K.createElement("h1",null,"Welcome to React-admin"),K.createElement("div",null,"Your application is properly configured.",K.createElement("br",null),"Now you can add a <Resource> as child of <Admin>.")),K.createElement("div",{style:Ne.secondary},K.createElement(bn,{href:"https://marmelab.com/react-admin/Readme.html",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Documentation"}),K.createElement(bn,{href:"https://github.com/marmelab/react-admin/tree/master/examples",img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=",label:"Examples"}),K.createElement(bn,{href:"https://stackoverflow.com/questions/tagged/react-admin",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Community"}))),"default");var lt=n((e,t)=>{e&&process.env.NODE_ENV!=="production"&&console.warn(t)},"default");var Hr=require("react");function vn(e,t){let r=(0,Hr.useRef)();(0,Hr.useEffect)(()=>{if(r.current){let o=Object.keys(f(f({},r.current),t)),s={};o.forEach(a=>{r.current[a]!==t[a]&&(s[a]={from:r.current[a],to:t[a]})}),Object.keys(s).length&&console.log("[why-did-you-update]",e,s)}r.current=t})}n(vn,"useWhyDidYouUpdate");var Ba=n((e,t)=>{if(e)return e;switch(t){case!0:return"undoable";case!1:return"pessimistic";default:return"undoable"}},"getMutationMode");function Al(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}n(Al,"mergeRefs");var dt=b(require("react")),qa=require("react"),Fl=typeof window!="undefined"?dt.useLayoutEffect:dt.useEffect,En=n((e,t)=>{let r=dt.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return Fl(()=>{r.current=e},[e,...t]),(0,qa.useCallback)((...o)=>r.current(...o),[])},"useEventCallback");var re=require("react"),Ka=b(require("lodash/isEqual"));function W(e){let[t,r]=(0,re.useState)(e),o=(0,re.useRef)(!1);(0,re.useEffect)(()=>(o.current=!0,()=>{o.current=!1}),[]);let s=(0,re.useCallback)(a=>{if(o.current)return r(a)},[o,r]);return[t,s]}n(W,"useSafeSetState");function Xa(e){let t=(0,re.useRef)();return(0,re.useEffect)(()=>{t.current=e}),t.current}n(Xa,"usePrevious");function Nl(e,t){let r=(0,re.useRef)();(0,re.useEffect)(()=>((0,Ka.default)(o,t)||(r.current=e()),r.current));let o=Xa(t)}n(Nl,"useDeepCompareEffect");function wn(e=0,t=""){let[r,o]=W(!1);return(0,re.useEffect)(()=>{o(!1);let s=setTimeout(()=>{o(!0)},e);return()=>{clearTimeout(s)}},[t,e,o]),r}n(wn,"useTimeout");function Dn(){let e=(0,re.useRef)(!0);return(0,re.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}n(Dn,"useIsMounted");var ei=require("react"),Xt=(0,ei.createContext)("");var ri=b(require("react"));var ti=require("react");var Kt=n(()=>(0,ti.useContext)(Xt),"useLabelPrefix");var In=n(({prefix:e,concatenate:t=!0,children:r})=>{let o=Kt(),s=o&&t?`${o}.${e}`:e;return ri.createElement(Xt.Provider,{value:s},r)},"LabelPrefixContextProvider");var me=n((e,t)=>{let{getItem:r,setItem:o,subscribe:s}=be(),[a,i]=(0,Yr.useState)(()=>r(e,t));(0,Yr.useEffect)(()=>{let c=s(e,d=>{i(typeof d=="undefined"?t:d)});return()=>c()},[e,s,t]);let u=En((c,d)=>{let p=typeof c=="function"?c(a):c;o(e,typeof p=="undefined"?typeof d=="undefined"?t:d:p)},[e,o,t,a]);return[a,u]},"useStore");var oi=require("react");var An=n(e=>{let{removeItem:t}=be();return(0,oi.useCallback)(r=>t(typeof r=="undefined"?e:r),[t,e])},"useRemoveFromStore");var Fn=n(()=>{let{reset:e}=be();return e},"useResetStore");var Ol=n(()=>{let e=oe(),t=Fn(),r=(0,Jr.useNavigate)(),o=(0,Oe.useRef)(r),s=(0,Jr.useLocation)(),a=(0,Oe.useRef)(s),i=le(),u=de(`${i}/${ct.loginUrl}`);(0,Oe.useEffect)(()=>{a.current=s,o.current=r},[s,r]);let c=(0,Oe.useCallback)((p={},m=u,h=!0)=>e.logout(p).then(x=>{if(x===!1){t();return}let L=(x||m).split("?"),T={pathname:L[0]},P={};return h&&a.current&&a.current.pathname&&(P={state:{nextPathname:a.current.pathname,nextSearch:a.current.search}}),L[1]&&(T.search=L[1]),o.current(T,P),t(),x}),[e,t,u]),d=(0,Oe.useCallback)(p=>(r({pathname:u},{state:{nextPathname:s&&s.pathname}}),t(),Promise.resolve()),[t,s,r,u]);return e?c:d},"useLogout"),Ue=Ol;var Ze=n(()=>{let e=oe(),t=V(),r=Ue(),o=le(),s=de(`${o}/${ct.loginUrl}`),a=(0,ni.useCallback)((i={},u=!0,c=s,d=!1)=>e.checkAuth(i).catch(p=>{throw u&&(r({},p&&p.redirectTo?p.redirectTo:c),!(d||p&&p.message===!1)&&t(kl(p,"ra.auth.auth_check_error"),{type:"warning"})),p}),[e,r,t,s]);return e?a:Ul},"useCheckAuth"),Ul=n(()=>Promise.resolve(),"checkAuthWithoutAuthProvider"),kl=n((e,t)=>typeof e=="string"?e:typeof e=="undefined"||!e.message?t:e.message,"getErrorMessage");var jl={},Vl=n((e=jl)=>{let[t,r]=W({isLoading:!0,authenticated:!0}),o=Ze();return(0,si.useEffect)(()=>{o(e,!1).then(()=>r({isLoading:!1,authenticated:!0})).catch(()=>r({isLoading:!1,authenticated:!1}))},[o,e,r]),t},"useAuthState"),$r=Vl;var ii=require("react");var ai=require("react");var Gl=n(()=>Promise.resolve([]),"getPermissionsWithoutProvider"),Ql=n(()=>{let e=oe(),t=(0,ai.useCallback)((r={})=>e.getPermissions(r),[e]);return e?t:Gl},"useGetPermissions"),pt=Ql;var _l={},zl=n((e=_l)=>{let[t,r]=W({isLoading:!0}),o=pt();return(0,ii.useEffect)(()=>{o(e).then(s=>{r({isLoading:!1,permissions:s})}).catch(s=>{r({isLoading:!1,error:s})})},[o,e,r]),t},"usePermissions"),Zr=zl;var ci=require("react"),ui=b(require("lodash/isEqual"));var Wl={},li={"{}":void 0},Hl=n((e=Wl)=>{let t=JSON.stringify(e),[r,o]=W({permissions:li[t]}),s=pt();return(0,ci.useEffect)(()=>{s(e).then(a=>{(0,ui.default)(a,r.permissions)||(li[t]=a,o({permissions:a}))}).catch(a=>{o({error:a})})},[s,t]),r},"usePermissionsOptimized"),Br=Hl;var qr=require("react");var di=require("react");var se=n((e={})=>{let{enabled:t=!0,params:r=Yl}=e,o=Ze();(0,di.useEffect)(()=>{t&&o(r).catch(()=>{})},[o,t,r])},"useAuthenticated"),Yl={};var pi=n(e=>qr.Children.count(e)===0,"isEmptyChildren"),Jl=n(e=>{let c=e,{authParams:t,children:r,render:o,component:s,staticContext:a}=c,i=F(c,["authParams","children","render","component","staticContext"]);lt(o&&r&&!pi(r)||o&&s||s&&r&&!pi(r),"You should only use one of the `component`, `render` and `children` props in <WithPermissions>"),se(t);let{permissions:u}=Br(t);if(s)return(0,qr.createElement)(s,f({permissions:u},i));if(o)return o(f({permissions:u},i));if(r)return r(f({permissions:u},i))},"WithPermissions"),Kr=Jl;var Nn=require("react"),Xr=require("react-router-dom");var $l=n(()=>{let e=oe(),r=(0,Xr.useLocation)().state,o=(0,Xr.useNavigate)(),s=le(),{resetNotifications:a}=Jt(),i=r&&r.nextPathname,u=r&&r.nextSearch,c=de(`${s}/${ct.afterLoginUrl}`),d=(0,Nn.useCallback)((m={},h)=>e.login(m).then(x=>{a();let L=h||i+u||c;return o(L),x}),[e,o,i,u,a,c]),p=(0,Nn.useCallback)((m,h)=>(a(),o(c),Promise.resolve()),[o,a,c]);return e?d:p},"useLogin"),mi=$l;var fi=require("react");var yi={id:"",fullName:null},Zl=n(()=>{let[e,t]=W({isLoading:!0}),r=oe();return(0,fi.useEffect)(()=>{r&&typeof r.getIdentity=="function"?n(async()=>{try{let s=await r.getIdentity();t({isLoading:!1,identity:s||yi})}catch(s){t({isLoading:!1,error:s})}},"callAuthProvider")():t({isLoading:!1,identity:yi})},[r,t]),e},"useGetIdentity"),gi=Zl;var Ri=require("react");var Pi=require("react-router"),On,Bl=n(()=>{let e=oe(),t=Ue(),r=V(),o=(0,Pi.useNavigate)(),s=(0,Ri.useCallback)((a,i)=>e.checkError(a).then(()=>!1).catch(async u=>{var m;let c=(m=u==null?void 0:u.logoutUser)!=null?m:!0;if(On)return!0;On=setTimeout(()=>{On=void 0},0),!(i||u&&u.message===!1||a&&a.message===!1)&&e.checkAuth({}).then(()=>{c?r(hi(u,"ra.notification.logged_out"),{type:"warning"}):r(hi(u,"ra.notification.not_authorized"),{type:"warning"})}).catch(()=>{});let p=u&&u.redirectTo?u.redirectTo:a&&a.redirectTo?a.redirectTo:void 0;return c?t({},p):o(p),!0}),[e,t,r,o]);return e?s:ql},"useLogoutIfAccessDenied"),ql=n(()=>Promise.resolve(!1),"logoutIfAccessDeniedWithoutProvider"),hi=n((e,t)=>typeof e=="string"?e:typeof e=="undefined"||!e.message?t:e.message,"getErrorMessage"),eo=Bl;var Un="AUTH_LOGIN",kn="AUTH_CHECK",jn="AUTH_ERROR",Vn="AUTH_LOGOUT",Gn="AUTH_GET_PERMISSIONS";var to=n(e=>{let t=n((...r)=>e.apply(null,r),"authProvider");return t.login=r=>e(Un,r),t.logout=r=>e(Vn,r),t.checkAuth=r=>e(kn,r),t.checkError=r=>e(jn,r),t.getPermissions=r=>e(Gn,r),t},"default");var ro=b(require("react"));var Kl=n(e=>{let{authParams:t,children:r}=e;return se({params:t}),ro.createElement(ro.Fragment,null,r)},"Authenticated");var oo="GET_LIST",no="GET_ONE",so="GET_MANY",ao="GET_MANY_REFERENCE",io="CREATE",co="UPDATE",uo="UPDATE_MANY",lo="DELETE",po="DELETE_MANY",Qn=["getOne","create","update"],mo=["getList","getMany","getManyReference"],_n=[...mo,"updateMany","deleteMany"],zn=["getList","getManyReference"],Xl=n(e=>{switch(e){case oo:return"getList";case no:return"getOne";case so:return"getMany";case ao:return"getManyReference";case io:return"create";case co:return"update";case uo:return"updateMany";case lo:return"delete";case po:return"deleteMany";default:return e}},"sanitizeFetchType");var Ce=n(()=>Promise.resolve(),"defaultDataProvider");Ce.create=()=>Promise.resolve(null);Ce.delete=()=>Promise.resolve(null);Ce.deleteMany=()=>Promise.resolve(null);Ce.getList=()=>Promise.resolve(null);Ce.getMany=()=>Promise.resolve(null);Ce.getManyReference=()=>Promise.resolve(null);Ce.getOne=()=>Promise.resolve(null);Ce.update=()=>Promise.resolve(null);Ce.updateMany=()=>Promise.resolve(null);var xi={create:io,delete:lo,deleteMany:po,getList:oo,getMany:so,getManyReference:ao,getOne:no,update:co,updateMany:uo},ed=n(e=>new Proxy(Ce,{get(r,o){return(s,a)=>{if(Object.keys(xi).includes(o.toString())){let i=xi[o.toString()];return e(i,s,a)}return e(o.toString(),s,a)}},apply(r,o,s){return e.apply(e,s)}}),"convertLegacyDataProvider"),fo=ed;var Ci=require("react"),Ti=(0,Ci.createContext)(null);Ti.displayName="DataProviderContext";var mt=Ti;var er=class extends Error{constructor(t,r,o=null){super(t);this.message=t;this.status=r;this.body=o;Object.setPrototypeOf(this,er.prototype),this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack,this.stack=new Error().stack}};n(er,"HttpError");var yo=er;var Wn={};Js(Wn,{createHeadersFromOptions:()=>Si,fetchJson:()=>td,flattenObject:()=>Li,queryParameters:()=>rd});var Mi=require("query-string"),Si=n(e=>{let t=e.headers||new Headers({Accept:"application/json"});return!t.has("Content-Type")&&!(e&&(!e.method||e.method==="GET"))&&!(e&&e.body&&e.body instanceof FormData)&&t.set("Content-Type","application/json"),e.user&&e.user.authenticated&&e.user.token&&t.set("Authorization",e.user.token),t},"createHeadersFromOptions"),td=n((e,t={})=>{let r=Si(t);return fetch(e,D(f({},t),{headers:r})).then(o=>o.text().then(s=>({status:o.status,statusText:o.statusText,headers:o.headers,body:s}))).then(({status:o,statusText:s,headers:a,body:i})=>{let u;try{u=JSON.parse(i)}catch{}return o<200||o>=300?Promise.reject(new yo(u&&u.message||s,o,u)):Promise.resolve({status:o,headers:a,body:i,json:u})})},"fetchJson"),rd=Mi.stringify,od=n(e=>{if(!e)return!1;let t=Array.isArray(e),r=typeof Buffer!="undefined"&&Buffer.isBuffer(e),o=Object.prototype.toString.call(e)==="[object Object]",s=!!Object.keys(e).length;return!t&&!r&&o&&s},"isValidObject"),Li=n((e,t=[])=>od(e)?Object.assign({},...Object.keys(e).map(r=>Li(e[r],t.concat([r])))):t.length?{[t.join(".")]:e}:e,"flattenObject");var bi=b(require("eventemitter3")),Te=new bi.default;var Be={create:()=>Promise.resolve({data:null}),delete:()=>Promise.resolve({data:null}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:null}),update:()=>Promise.resolve({data:null}),updateMany:()=>Promise.resolve({data:[]})};var nd=n(e=>new Proxy(Be,{get:(t,r)=>(o,s)=>{if(!(typeof r=="symbol"||r==="then"))return e(o)[r](o,s)}}),"combineDataProviders");var sd=n(e=>f({getList:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:void 0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),create:()=>Promise.resolve({data:void 0}),update:()=>Promise.resolve({data:void 0}),updateMany:()=>Promise.resolve({data:[]}),delete:()=>Promise.resolve({data:void 0}),deleteMany:()=>Promise.resolve({data:[]})},e),"testDataProvider");var go=require("react");function ad(e,t,r=console.error){if(!e)throw r(`The dataProvider returned an empty response for '${t}'.`),new Error("ra.notification.data_provider_error");if(!e.hasOwnProperty("data"))throw r(`The response to '${t}' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '${t}'.`),new Error("ra.notification.data_provider_error");if(_n.includes(t)&&!Array.isArray(e.data))throw r(`The response to '${t}' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(mo.includes(t)&&Array.isArray(e.data)&&e.data.length>0&&!e.data[0].hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(Qn.includes(t)&&!e.data.hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(zn.includes(t)&&!e.hasOwnProperty("total")&&!e.hasOwnProperty("pageInfo"))throw r(`The response to '${t}' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error")}n(ad,"validateResponseFormat");var vi=ad;var Y=n(()=>{let e=(0,go.useContext)(mt)||Be,t=eo();return(0,go.useMemo)(()=>new Proxy(e,{get:(o,s)=>{if(!(typeof s=="symbol"||s==="then"))return(...a)=>{let i=s.toString();if(typeof e[i]!="function")throw new Error(`Unknown dataProvider function: ${i}`);try{return e[i].apply(e,a).then(u=>(process.env.NODE_ENV!=="production"&&vi(u,i),u)).catch(u=>(process.env.NODE_ENV!=="production"&&console.error(u),t(u).then(c=>{if(!c)throw u})))}catch(u){throw process.env.NODE_ENV!=="production"&&console.error(u),new Error("The dataProvider threw an error. It should return a rejected Promise instead.")}}}}),[e,t])},"useDataProvider");var Ro=require("react"),Po=require("react-query"),id=n((e,t={})=>{let{enabled:r=!0}=t,o=(0,Po.useQueryClient)(),[s,a]=(0,Ro.useState)(()=>r?o.getQueryData(e)!==void 0:!1);return(0,Ro.useEffect)(()=>{if(!!r&&o.getQueryData(e)===void 0){let u=new Po.QueryObserver(o,{queryKey:e}).subscribe(c=>{a(!c.isLoading),u()});return u}},[r,e,o]),s},"useIsDataLoaded");var ft=b(require("react")),tr=require("react-query"),cd=n(()=>{let e=(0,tr.useQueryClient)(),t=ft.default.useRef(!1),r=ft.default.useRef(e.isFetching()>0),o=ft.default.useRef(e.isMutating()>0),[s,a]=ft.default.useState(r.current||o.current);return ft.default.useEffect(()=>{t.current=!0;let i=e.getQueryCache().subscribe(tr.notifyManager.batchCalls(()=>{t.current&&(r.current=e.isFetching()>0,a(r.current||o.current))})),u=e.getMutationCache().subscribe(tr.notifyManager.batchCalls(()=>{t.current&&(o.current=e.isMutating()>0,a(r.current||o.current))}));return()=>{t.current=!1,i(),u()}},[e]),s},"useLoading");var Ei=require("react"),wi=require("react-query"),rr=n(()=>{let e=(0,wi.useQueryClient)();return(0,Ei.useCallback)(()=>{e.invalidateQueries()},[e])},"useRefresh");var Di=require("react-query");var or=n((e,{id:t,meta:r},o)=>{let s=Y();return(0,Di.useQuery)([e,"getOne",{id:String(t),meta:r}],()=>s.getOne(e,{id:t,meta:r}).then(({data:a})=>a),o)},"useGetOne");var ho=require("react-query");var qe=n((e,t={},r)=>{var p,m,h;let{pagination:o={page:1,perPage:25},sort:s={field:"id",order:"DESC"},filter:a={},meta:i}=t,u=Y(),c=(0,ho.useQueryClient)(),d=(0,ho.useQuery)([e,"getList",{pagination:o,sort:s,filter:a,meta:i}],()=>u.getList(e,{pagination:o,sort:s,filter:a,meta:i}).then(({data:x,total:L,pageInfo:T})=>({data:x,total:L,pageInfo:T})),f({onSuccess:({data:x})=>{x.forEach(L=>{c.setQueryData([e,"getOne",{id:String(L.id),meta:i}],T=>T!=null?T:L)})}},r));return d.data?D(f({},d),{data:(p=d.data)==null?void 0:p.data,total:(m=d.data)==null?void 0:m.total,pageInfo:(h=d.data)==null?void 0:h.pageInfo}):d},"useGetList");var yt=require("react-query");var ud=n((e,t={},r)=>{let{ids:o,meta:s}=t,a=Y(),i=(0,yt.useQueryClient)(),u=i.getQueryCache();return(0,yt.useQuery)([e,"getMany",{ids:o.map(c=>String(c)),meta:s}],()=>!o||o.length===0?Promise.resolve([]):a.getMany(e,{ids:o,meta:s}).then(({data:c})=>c),f({placeholderData:()=>{let c=o.map(d=>{var m,h;let p=(0,yt.hashQueryKey)([e,"getOne",{id:String(d),meta:s}]);return(h=(m=u.get(p))==null?void 0:m.state)==null?void 0:h.data});if(!c.some(d=>d===void 0))return c},onSuccess:c=>{c.forEach(d=>{i.setQueryData([e,"getOne",{id:String(d.id),meta:s}],p=>p!=null?p:d)})},retry:!1},r))},"useGetMany");var Ii=require("react"),gt=require("react-query"),Ai=b(require("lodash/union"));var Ke=n((e,t,r={})=>{let o=Y(),s=(0,gt.useQueryClient)(),a=s.getQueryCache(),{ids:i,meta:u}=t,c=(0,Ii.useMemo)(()=>{let d=i.map(p=>{var h,x;let m=(0,gt.hashQueryKey)([e,"getOne",{id:String(p),meta:u}]);return(x=(h=a.get(m))==null?void 0:h.state)==null?void 0:x.data});if(!d.some(p=>p===void 0))return d},[i,a,e,u]);return(0,gt.useQuery)([e,"getMany",{ids:i.map(d=>String(d)),meta:u}],()=>new Promise((d,p)=>!i||i.length===0?d([]):dd({resource:e,ids:i,meta:u,resolve:d,reject:p,dataProvider:o,queryClient:s})),f({placeholderData:c,onSuccess:d=>{d.forEach(p=>{s.setQueryData([e,"getOne",{id:String(p.id),meta:u}],m=>m!=null?m:p)})},retry:!1},r))},"useGetManyAggregate"),ld=n(e=>{let t=[],r=null;return o=>{t.push(o),r&&clearTimeout(r),r=setTimeout(()=>{r=null,e([...t]),t=[]},0)}},"batch"),dd=ld(e=>{let t=e[0].dataProvider,r=e[0].queryClient,o=e.reduce((s,a)=>(s[a.resource]||(s[a.resource]=[]),s[a.resource].push(a),s),{});Object.keys(o).forEach(s=>{let a=o[s],i=a.reduce((c,{ids:d})=>(0,Ai.default)(c,d),[]).filter(c=>c!=null&&c!==""),u=a.reduce((c,{meta:d})=>d||c,void 0);if(i.length===0){a.forEach(({resolve:c})=>{c([])});return}if(a.find(({ids:c})=>JSON.stringify(c)===JSON.stringify(i))){let{dataProvider:c,resource:d,ids:p,meta:m,resolve:h,reject:x}=a[0];c.getMany(d,{ids:p,meta:m}).then(({data:L})=>L).then(h,x);return}r.fetchQuery([s,"getMany",{ids:i.map(c=>String(c)),meta:u}],()=>t.getMany(s,{ids:i,meta:u}).then(({data:c})=>c)).then(c=>{a.forEach(({ids:d,resolve:p})=>{p(c.filter(m=>d.includes(m.id)))})}).catch(c=>a.forEach(({reject:d})=>d(c)))})});var xo=require("react-query");var nr=n((e,t={},r)=>{var h,x,L;let{target:o,id:s,pagination:a={page:1,perPage:25},sort:i={field:"id",order:"DESC"},filter:u={},meta:c}=t,d=Y(),p=(0,xo.useQueryClient)(),m=(0,xo.useQuery)([e,"getManyReference",{target:o,id:s,pagination:a,sort:i,filter:u,meta:c}],()=>d.getManyReference(e,{target:o,id:s,pagination:a,sort:i,filter:u,meta:c}).then(({data:T,total:P,pageInfo:y})=>({data:T,total:P,pageInfo:y})),f({onSuccess:({data:T})=>{T.forEach(P=>{p.setQueryData([e,"getOne",{id:String(P.id),meta:c}],y=>y!=null?y:P)})}},r));return m.data?D(f({},m),{data:(h=m.data)==null?void 0:h.data,total:(x=m.data)==null?void 0:x.total,pageInfo:(L=m.data)==null?void 0:L.pageInfo}):m},"useGetManyReference");var Fi=require("react"),Co=require("react-query");var Hn=n((e,t={},r={})=>{let o=Y(),s=(0,Co.useQueryClient)(),a=(0,Fi.useRef)(t),i=(0,Co.useMutation)(({resource:c=e,data:d=a.current.data,meta:p=a.current.meta}={})=>o.create(c,{data:d,meta:p}).then(({data:m})=>m),D(f({},r),{onSuccess:(c,d={},p)=>{let{resource:m=e}=d;s.setQueryData([m,"getOne",{id:String(c.id)}],c),r.onSuccess&&r.onSuccess(c,d,p)}}));return[n((c=e,d={},p={})=>{let x=p,{returnPromise:m}=x,h=F(x,["returnPromise"]);if(m)return i.mutateAsync(f({resource:c},d),p);i.mutate(f({resource:c},d),h)},"create"),i]},"useCreate");var To=require("react"),Mo=require("react-query");var Yn=n((e,t={},r={})=>{let o=Y(),s=(0,Mo.useQueryClient)(),{id:a,data:i,meta:u}=t,P=r,{mutationMode:c="pessimistic"}=P,d=F(P,["mutationMode"]),p=(0,To.useRef)(c),m=(0,To.useRef)(t),h=(0,To.useRef)([]),x=n(({resource:y,id:g,data:M})=>{let C=Date.now(),R=p.current==="undoable"?C+5*1e3:C,v=n(S=>{if(!S)return;let E=S.findIndex(N=>N.id==g);return E===-1?S:[...S.slice(0,E),f(f({},S[E]),M),...S.slice(E+1)]},"updateColl");s.setQueryData([y,"getOne",{id:String(g),meta:u}],S=>f(f({},S),M),{updatedAt:R}),s.setQueriesData([y,"getList"],S=>S&&S.data?{data:v(S.data),total:S.total}:S,{updatedAt:R}),s.setQueriesData([y,"getMany"],S=>S&&S.length>0?v(S):S,{updatedAt:R}),s.setQueriesData([y,"getManyReference"],S=>S&&S.data?{data:v(S.data),total:S.total}:S,{updatedAt:R})},"updateCache"),L=(0,Mo.useMutation)(({resource:y=e,id:g=m.current.id,data:M=m.current.data,meta:C=m.current.meta,previousData:R=m.current.previousData}={})=>o.update(y,{id:g,data:M,previousData:R,meta:C}).then(({data:v})=>v),D(f({},d),{onMutate:async y=>{if(d.onMutate){let g=await d.onMutate(y)||{};return f({snapshot:h.current},g)}else return{snapshot:h.current}},onError:(y,g={},M)=>{if((p.current==="optimistic"||p.current==="undoable")&&M.snapshot.forEach(([C,R])=>{s.setQueryData(C,R)}),d.onError)return d.onError(y,g,M)},onSuccess:(y,g={},M)=>{if(p.current==="pessimistic"){let{resource:C=e,id:R=a}=g;x({resource:C,id:R,data:y}),d.onSuccess&&d.onSuccess(y,g,M)}},onSettled:(y,g,M={},C)=>{if((p.current==="optimistic"||p.current==="undoable")&&C.snapshot.forEach(([R])=>{s.invalidateQueries(R)}),d.onSettled)return d.onSettled(y,g,M,C)}}));return[n(async(y=e,g={},M={})=>{let{mutationMode:C,returnPromise:R,onSuccess:v,onSettled:S,onError:E}=M;if(m.current=t,C&&(p.current=C),R&&p.current!=="pessimistic"&&console.warn("The returnPromise parameter can only be used if the mutationMode is set to pessimistic"),p.current==="pessimistic")return R?L.mutateAsync(f({resource:y},g),{onSuccess:v,onSettled:S,onError:E}):L.mutate(f({resource:y},g),{onSuccess:v,onSettled:S,onError:E});let{id:N=a,data:O=i,meta:A=u}=g,w=s.getQueryData([y,"getOne",{id:String(N),meta:A}]),U=[[y,"getOne",{id:String(N),meta:A}],[y,"getList"],[y,"getMany"],[y,"getManyReference"]];if(h.current=U.reduce((G,$)=>G.concat(s.getQueriesData($)),[]),await Promise.all(h.current.map(([G])=>s.cancelQueries(G))),x({resource:y,id:N,data:O}),v&&setTimeout(()=>v(w,f({resource:y},g),{snapshot:h.current}),0),d.onSuccess&&setTimeout(()=>d.onSuccess(w,f({resource:y},g),{snapshot:h.current}),0),p.current==="optimistic")return L.mutate(f({resource:y},g),{onSettled:S,onError:E});Te.once("end",({isUndo:G})=>{G?h.current.forEach(([$,q])=>{s.setQueryData($,q)}):L.mutate(f({resource:y},g),{onSettled:S,onError:E})})},"update"),L]},"useUpdate");var So=require("react"),Lo=require("react-query");var pd=n((e,t={},r={})=>{let o=Y(),s=(0,Lo.useQueryClient)(),{ids:a,data:i,meta:u}=t,P=r,{mutationMode:c="pessimistic"}=P,d=F(P,["mutationMode"]),p=(0,So.useRef)(c),m=(0,So.useRef)(t),h=(0,So.useRef)([]),x=n(async({resource:y,ids:g,data:M,meta:C})=>{let R=p.current==="undoable"?Date.now()+1e3*5:Date.now(),v=n(S=>{if(!S)return;let E=[...S];return g.forEach(N=>{let O=S.findIndex(A=>A.id==N);O!==-1&&(E=[...E.slice(0,O),f(f({},E[O]),M),...E.slice(O+1)])}),E},"updateColl");g.forEach(S=>s.setQueryData([y,"getOne",{id:String(S),meta:C}],E=>f(f({},E),M),{updatedAt:R})),s.setQueriesData([y,"getList"],S=>S&&S.data?{data:v(S.data),total:S.total}:S,{updatedAt:R}),s.setQueriesData([y,"getMany"],S=>S&&S.length>0?v(S):S,{updatedAt:R}),s.setQueriesData([y,"getManyReference"],S=>S&&S.data?{data:v(S.data),total:S.total}:S,{updatedAt:R})},"updateCache"),L=(0,Lo.useMutation)(({resource:y=e,ids:g=m.current.ids,data:M=m.current.data,meta:C=m.current.meta}={})=>o.updateMany(y,{ids:g,data:M,meta:C}).then(({data:R})=>R),D(f({},d),{onMutate:async y=>{if(d.onMutate){let g=await d.onMutate(y)||{};return f({snapshot:h.current},g)}else return{snapshot:h.current}},onError:(y,g={},M)=>{if((p.current==="optimistic"||p.current==="undoable")&&M.snapshot.forEach(([C,R])=>{s.setQueryData(C,R)}),d.onError)return d.onError(y,g,M)},onSuccess:(y,g={},M)=>{if(p.current==="pessimistic"){let{resource:C=e,ids:R=a,meta:v=u}=g;x({resource:C,ids:R,data:y,meta:v}),d.onSuccess&&d.onSuccess(y,g,M)}},onSettled:(y,g,M={},C)=>{if((p.current==="optimistic"||p.current==="undoable")&&C.snapshot.forEach(([R])=>{s.invalidateQueries(R)}),d.onSettled)return d.onSettled(y,g,M,C)}}));return[n(async(y=e,g={},M={})=>{let{mutationMode:C,onSuccess:R,onSettled:v,onError:S}=M;if(m.current=t,C&&(p.current=C),p.current==="pessimistic")return L.mutate(f({resource:y},g),{onSuccess:R,onSettled:v,onError:S});let{ids:E=a,data:N=i,meta:O=u}=g,A=[[y,"getOne"],[y,"getList"],[y,"getMany"],[y,"getManyReference"]];if(h.current=A.reduce((w,U)=>w.concat(s.getQueriesData(U)),[]),await Promise.all(h.current.map(([w])=>s.cancelQueries(w))),await x({resource:y,ids:E,data:N,meta:O}),R&&setTimeout(()=>R(E,f({resource:y},g),{snapshot:h.current}),0),d.onSuccess&&setTimeout(()=>d.onSuccess(E,f({resource:y},g),{snapshot:h.current}),0),p.current==="optimistic")return L.mutate(f({resource:y},g),{onSettled:v,onError:S});Te.once("end",({isUndo:w})=>{w?h.current.forEach(([U,G])=>{s.setQueryData(U,G)}):L.mutate(f({resource:y},g),{onSettled:v,onError:S})})},"updateMany"),L]},"useUpdateMany");var bo=require("react"),vo=require("react-query");var sr=n((e,t={},r={})=>{let o=Y(),s=(0,vo.useQueryClient)(),{id:a,previousData:i}=t,T=r,{mutationMode:u="pessimistic"}=T,c=F(T,["mutationMode"]),d=(0,bo.useRef)(u),p=(0,bo.useRef)(t),m=(0,bo.useRef)([]),h=n(({resource:P,id:y})=>{let g=Date.now(),M=d.current==="undoable"?g+5*1e3:g,C=n(R=>{if(!R)return;let v=R.findIndex(S=>S.id==y);return v===-1?R:[...R.slice(0,v),...R.slice(v+1)]},"updateColl");s.setQueriesData([P,"getList"],R=>{if(!R||!R.data)return R;let v=C(R.data);return v.length<R.data.length?{data:v,total:R.total-1}:R},{updatedAt:M}),s.setQueriesData([P,"getMany"],R=>R&&R.length>0?C(R):R,{updatedAt:M}),s.setQueriesData([P,"getManyReference"],R=>{if(!R||!R.data)return R;let v=C(R.data);return v.length<R.data.length?{data:v,total:R.total-1}:R},{updatedAt:M})},"updateCache"),x=(0,vo.useMutation)(({resource:P=e,id:y=p.current.id,previousData:g=p.current.previousData,meta:M=p.current.meta}={})=>o.delete(P,{id:y,previousData:g,meta:M}).then(({data:C})=>C),D(f({},c),{onMutate:async P=>{if(c.onMutate){let y=await c.onMutate(P)||{};return f({snapshot:m.current},y)}else return{snapshot:m.current}},onError:(P,y={},g)=>{if((d.current==="optimistic"||d.current==="undoable")&&g.snapshot.forEach(([M,C])=>{s.setQueryData(M,C)}),c.onError)return c.onError(P,y,g)},onSuccess:(P,y={},g)=>{if(d.current==="pessimistic"){let{resource:M=e,id:C=a}=y;h({resource:M,id:C}),c.onSuccess&&c.onSuccess(P,y,g)}},onSettled:(P,y,g={},M)=>{if((d.current==="optimistic"||d.current==="undoable")&&M.snapshot.forEach(([C])=>{s.invalidateQueries(C)}),c.onSettled)return c.onSettled(P,y,g,M)}}));return[n(async(P=e,y={},g={})=>{let{mutationMode:M,onSuccess:C,onSettled:R,onError:v}=g;if(p.current=t,M&&(d.current=M),d.current==="pessimistic")return x.mutate(f({resource:P},y),{onSuccess:C,onSettled:R,onError:v});let{id:S=a,previousData:E=i}=y,N=[[P,"getList"],[P,"getMany"],[P,"getManyReference"]];if(m.current=N.reduce((O,A)=>O.concat(s.getQueriesData(A)),[]),await Promise.all(m.current.map(([O])=>s.cancelQueries(O))),h({resource:P,id:S}),C&&setTimeout(()=>C(E,f({resource:P},y),{snapshot:m.current}),0),c.onSuccess&&setTimeout(()=>c.onSuccess(E,f({resource:P},y),{snapshot:m.current}),0),d.current==="optimistic")return x.mutate(f({resource:P},y),{onSettled:R,onError:v});Te.once("end",({isUndo:O})=>{O?m.current.forEach(([A,w])=>{s.setQueryData(A,w)}):x.mutate(f({resource:P},y),{onSettled:R,onError:v})})},"mutate"),x]},"useDelete");var Eo=require("react"),wo=require("react-query");var md=n((e,t={},r={})=>{let o=Y(),s=(0,wo.useQueryClient)(),{ids:a}=t,L=r,{mutationMode:i="pessimistic"}=L,u=F(L,["mutationMode"]),c=(0,Eo.useRef)(i),d=(0,Eo.useRef)({}),p=(0,Eo.useRef)([]),m=n(({resource:T,ids:P})=>{let y=Date.now(),g=c.current==="undoable"?y+5*1e3:y,M=n(C=>{if(!C)return;let R=[...C];return P.forEach(v=>{let S=R.findIndex(E=>E.id==v);S!==-1&&(R=[...R.slice(0,S),...R.slice(S+1)])}),R},"updateColl");s.setQueriesData([T,"getList"],C=>{if(!C||!C.data)return C;let R=M(C.data);return R.length<C.data.length?{data:R,total:C.total-(C.data.length-R.length)}:C},{updatedAt:g}),s.setQueriesData([T,"getMany"],C=>C&&C.length>0?M(C):C,{updatedAt:g}),s.setQueriesData([T,"getManyReference"],C=>{if(!C||!C.data)return C;let R=M(C.data);return R.length<C.data.length?{data:R,total:C.total-(C.data.length-R.length)}:C},{updatedAt:g})},"updateCache"),h=(0,wo.useMutation)(({resource:T=e,ids:P=d.current.ids,meta:y=d.current.meta}={})=>o.deleteMany(T,{ids:P,meta:y}).then(({data:g})=>g),D(f({},u),{onMutate:async T=>{if(u.onMutate){let P=await u.onMutate(T)||{};return f({snapshot:p.current},P)}else return{snapshot:p.current}},onError:(T,P={},y)=>{if((c.current==="optimistic"||c.current==="undoable")&&y.snapshot.forEach(([g,M])=>{s.setQueryData(g,M)}),u.onError)return u.onError(T,P,y)},onSuccess:(T,P={},y)=>{if(c.current==="pessimistic"){let{resource:g=e,ids:M=a}=P;m({resource:g,ids:M}),u.onSuccess&&u.onSuccess(T,P,y)}},onSettled:(T,P,y={},g)=>{if((c.current==="optimistic"||c.current==="undoable")&&g.snapshot.forEach(([M])=>{s.invalidateQueries(M)}),u.onSettled)return u.onSettled(T,P,y,g)}}));return[n(async(T=e,P={},y={})=>{let{mutationMode:g,onSuccess:M,onSettled:C,onError:R}=y;if(d.current=t,g&&(c.current=g),c.current==="pessimistic")return h.mutate(f({resource:T},P),{onSuccess:M,onSettled:C,onError:R});let{ids:v=a}=P,S=[[T,"getList"],[T,"getMany"],[T,"getManyReference"]];if(p.current=S.reduce((E,N)=>E.concat(s.getQueriesData(N)),[]),await Promise.all(p.current.map(([E])=>s.cancelQueries(E))),m({resource:T,ids:v}),M&&setTimeout(()=>M(v,f({resource:T},P),{snapshot:p.current}),0),u.onSuccess&&setTimeout(()=>u.onSuccess(v,f({resource:T},P),{snapshot:p.current}),0),c.current==="optimistic")return h.mutate(f({resource:T},P),{onSettled:C,onError:R});Te.once("end",({isUndo:E})=>{E?p.current.forEach(([N,O])=>{s.setQueryData(N,O)}):h.mutate(f({resource:T},P),{onSettled:C,onError:R})})},"mutate"),h]},"useDeleteMany");var Ni=b(require("react")),ve=require("react"),Oi=b(require("lodash/isEqual")),Do=(0,ve.createContext)({definitions:{},register:()=>{},unregister:()=>{}}),Jn=n(({definitions:e={},children:t})=>{let[r,o]=(0,ve.useState)(e),s=(0,ve.useCallback)(u=>{o(c=>(0,Oi.default)(c[u.name],u)?c:D(f({},c),{[u.name]:u}))},[]),a=(0,ve.useCallback)(u=>{o(c=>{var m;let h=c,{[m=u.name]:d}=h;return F(h,[Ae(m)])})},[]),i=(0,ve.useMemo)(()=>({definitions:r,register:s,unregister:a}),[r]);return Ni.createElement(Do.Provider,{value:i},t)},"ResourceDefinitionContextProvider");var Fo=n(e=>{let{authProvider:t,basename:r,dataProvider:o,i18nProvider:s,store:a,children:i,history:u,queryClient:c}=e;if(!o)throw new Error(`Missing dataProvider prop.
React-admin requires a valid dataProvider function to work.`);let d=(0,Io.useMemo)(()=>c||new Ao.QueryClient,[c]),p=(0,Io.useMemo)(()=>t instanceof Function?to(t):t,[t]),m=(0,Io.useMemo)(()=>o instanceof Function?fo(o):o,[o]);return Ee.createElement(it.Provider,{value:p},Ee.createElement(mt.Provider,{value:m},Ee.createElement(Cn,{value:a},Ee.createElement(Ao.QueryClientProvider,{client:d},Ee.createElement(gn,{history:u,basename:r},Ee.createElement(Zt,{value:s},Ee.createElement(Tn,null,Ee.createElement(Jn,null,i))))))))},"CoreAdminContext");Fo.defaultProps={dataProvider:Be,store:Wt()};var ke=b(require("react")),Pt=require("react"),cr=require("react-router-dom");var B=b(require("react")),Rt=require("react"),ae=require("react-router-dom");var ki=b(require("react")),fe=require("react");var Ui=require("react");var ar=n(()=>(0,Ui.useContext)(Do),"useResourceDefinitionContext");var ji=n(e=>{let{permissions:t}=Zr(),[r,o]=fd(e,t);return gd(r.resources,t),{customRoutesWithLayout:r.customRoutesWithLayout,customRoutesWithoutLayout:r.customRoutesWithoutLayout,status:o,resources:r.resources}},"useConfigureAdminRouterFromChildren"),fd=n((e,t)=>{let r=Ue(),{authenticated:o}=$r(),[s,a,i]=yd(ir(e)),[u,c]=W(()=>Rd(f({children:e},s)));return(0,fe.useEffect)(()=>{let d=n(async m=>{try{let h=m(t);h.then?h.then(x=>{i(ir(x)),c("ready")}):(i(ir(h)),c("ready"))}catch(h){console.error(h),r()}},"resolveChildFunction");n(async()=>{let m=Vi(e),h=ir(e);a(h),c(m?"loading":h.resources.length>0?"ready":"empty"),m&&d(m)},"updateFromChildren")()},[o,e,r,i,t,a,c]),[s,u]},"useRoutesAndResourcesFromChildren"),yd=n(e=>{let[t,r]=(0,fe.useState)(e),o=(0,fe.useCallback)(s=>{r(a=>({customRoutesWithLayout:a.customRoutesWithLayout.concat(s.customRoutesWithLayout),customRoutesWithoutLayout:a.customRoutesWithoutLayout.concat(s.customRoutesWithoutLayout),resources:a.resources.concat(s.resources)}))},[]);return[t,r,o]},"useRoutesAndResourcesState"),gd=n((e,t)=>{let{register:r,unregister:o}=ar();(0,fe.useEffect)(()=>(e.forEach(s=>{if(typeof s.type.registerResource=="function"){let a=s.type.registerResource(s.props,t);r(a)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")}),()=>{e.forEach(s=>{if(typeof s.type.registerResource=="function"){let a=s.type.registerResource(s.props,t);o(a)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")})}),[t,r,e,o])},"useRegisterResources"),Rd=n(({children:e,resources:t,customRoutesWithLayout:r,customRoutesWithoutLayout:o})=>Vi(e)?"loading":t.length>0||r.length>0||o.length>0?"ready":"empty","getStatus"),Vi=n(e=>{let r=(Array.isArray(e)?e:[e]).filter(o=>typeof o=="function");if(r.length>1)throw new Error("You can only provide one function child to AdminRouter");return r.length===0?null:r[0]},"getSingleChildFunction"),ir=n(e=>{let t=[],r=[],o=[];return fe.Children.forEach(e,s=>{if(!!ki.isValidElement(s)){if(s.type===fe.Fragment){let a=ir(s.props.children);t.push(...a.customRoutesWithLayout),r.push(...a.customRoutesWithoutLayout),o.push(...a.resources)}if(s.type.raName==="CustomRoutes"){let a=s;a.props.noLayout?r.push(a.props.children):t.push(a.props.children)}else s.type.raName==="Resource"&&o.push(s)}}),{customRoutesWithLayout:t,customRoutesWithoutLayout:r,resources:o}},"getRoutesAndResourceFromNodes");var No=n(e=>{let t=wn(1e3);Rn();let r=zt(),{customRoutesWithLayout:o,customRoutesWithoutLayout:s,status:a,resources:i}=ji(e.children),{layout:u,catchAll:c,dashboard:d,loading:p,menu:m,requireAuth:h,ready:x,title:L}=e,[T,P]=(0,Rt.useState)(!h),y=Ze();return(0,Rt.useEffect)(()=>{h&&y().then(()=>{P(!0)}).catch(()=>{})},[y,h]),a==="empty"?B.createElement(x,null):a==="loading"||!T?B.createElement(ae.Routes,null,s,t?B.createElement(ae.Route,{path:"*",element:B.createElement(p,null)}):B.createElement(ae.Route,{path:"*",element:null})):B.createElement(ae.Routes,null,s,B.createElement(ae.Route,{path:"/*",element:B.createElement("div",null,B.createElement(u,{dashboard:d,menu:m,title:L},B.createElement(ae.Routes,null,o,Rt.Children.map(i,g=>B.createElement(ae.Route,{key:g.props.name,path:`${g.props.name}/*`,element:g})),B.createElement(ae.Route,{path:"/",element:d?B.createElement(Kr,{authParams:Pd,component:d}):i.length>0?B.createElement(ae.Navigate,{to:r({resource:i[0].props.name,type:"list"})}):null}),B.createElement(ae.Route,{path:"*",element:B.createElement(c,{title:L})}))))}))},"CoreAdminRoutes");No.defaultProps={customRoutes:[]};var Pd={route:"dashboard"};var hd=n(({children:e})=>ke.createElement(ke.Fragment,null,e),"DefaultLayout"),$n=n(e=>{let{catchAll:t=Gi,children:r,dashboard:o,disableTelemetry:s=!1,layout:a=hd,loading:i=Gi,loginPage:u=!1,menu:c,ready:d=Wr,title:p="React Admin",requireAuth:m=!1}=e;return(0,Pt.useEffect)(()=>{if(s||process.env.NODE_ENV!=="production"||typeof window=="undefined"||typeof window.location=="undefined"||typeof Image=="undefined")return;let h=new Image;h.src=`https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=${window.location.hostname}`},[s]),ke.createElement(cr.Routes,null,u!==!1&&u!==!0?ke.createElement(cr.Route,{path:"/login",element:xd(u)}):null,ke.createElement(cr.Route,{path:"/*",element:ke.createElement(No,{catchAll:t,dashboard:o,layout:a,loading:i,menu:c,requireAuth:m,ready:d,title:p},r)}))},"CoreAdminUI"),xd=n(e=>(0,Pt.isValidElement)(e)?e:(0,Pt.createElement)(e),"createOrGetElement"),Gi=n(()=>null,"Noop");var Cd=n(e=>{let{authProvider:t,basename:r,catchAll:o,children:s,dashboard:a,dataProvider:i,disableTelemetry:u,history:c,i18nProvider:d,queryClient:p,layout:m,loading:h,loginPage:x,menu:L,ready:T,requireAuth:P,title:y="React Admin"}=e;return Zn.createElement(Fo,{authProvider:t,basename:r,dataProvider:i,i18nProvider:d,queryClient:p,history:c},Zn.createElement($n,{layout:m,dashboard:a,disableTelemetry:u,menu:L,catchAll:o,title:y,loading:h,loginPage:x,requireAuth:P,ready:T},s))},"CoreAdmin");var Qi=n(e=>null,"CustomRoutes");Qi.raName="CustomRoutes";var ge=b(require("react")),lr=require("react"),Xe=require("react-router-dom");var zi=b(require("react"));var _i=require("react"),ur=(0,_i.createContext)(void 0);var ye=n(({children:e,value:t})=>t?zi.createElement(ur.Provider,{value:t},e):e,"ResourceContextProvider");var Bn=n(e=>{let{create:t,edit:r,list:o,name:s,show:a}=e;return ge.createElement(ye,{value:s},ge.createElement(Xe.Routes,null,t&&ge.createElement(Xe.Route,{path:"create/*",element:(0,lr.isValidElement)(t)?t:ge.createElement(t,null)}),a&&ge.createElement(Xe.Route,{path:":id/show/*",element:(0,lr.isValidElement)(a)?a:ge.createElement(a,null)}),r&&ge.createElement(Xe.Route,{path:":id/*",element:(0,lr.isValidElement)(r)?r:ge.createElement(r,null)}),o&&ge.createElement(Xe.Route,{path:"/*",element:(0,lr.isValidElement)(o)?o:ge.createElement(o,null)})))},"Resource");Bn.raName="Resource";Bn.registerResource=({create:e,edit:t,icon:r,list:o,name:s,options:a,show:i})=>({name:s,options:a,hasList:!!o,hasCreate:!!e,hasEdit:!!t,hasShow:!!i,icon:r});var Oo=b(require("inflection"));var dr=n(()=>ar().definitions,"useResourceDefinitions");var we=n(()=>{let e=_(),t=dr();return(r,o=2)=>{let s=t[r];return e(`resources.${r}.name`,{smart_count:o,_:s&&s.options&&s.options.label?e(s.options.label,{smart_count:o,_:s.options.label}):Oo.default.humanize(o>1?Oo.default.pluralize(r):Oo.default.singularize(r))})}},"useGetResourceLabel");var Wi=require("react");var z=n(e=>{let t=(0,Wi.useContext)(ur);return e&&e.resource||t},"useResourceContext");var Hi=require("react"),Yi=b(require("lodash/defaults"));var qn=n(e=>{let t=z(e),r=dr(),{hasCreate:o,hasEdit:s,hasList:a,hasShow:i}=e||{};return(0,Hi.useMemo)(()=>(0,Yi.default)({},{hasCreate:o,hasEdit:s,hasList:a,hasShow:i},r[t]),[t,r,o,s,a,i])},"useResourceDefinition");var Ji=b(require("jsonexport/dist"));var Uo=n((e,t)=>{let r=document.createElement("a");r.style.display="none",document.body.appendChild(r);let o=new Blob([e],{type:"text/csv;charset=utf-8"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(o,`${t}.csv`):(r.setAttribute("href",URL.createObjectURL(o)),r.setAttribute("download",`${t}.csv`),r.click())},"default");var Td=n((e,t,r,o)=>(0,Ji.default)(e,(s,a)=>Uo(a,o)),"defaultExporter"),ht=Td;var $i=require("react");var Zi=(0,$i.createContext)(ht);Zi.displayName="ExporterContext";var Bi=Zi;var Md=n(e=>(t,r,o)=>e.getMany(o,{ids:Sd(t,r)}).then(({data:s})=>s.reduce((a,i)=>(a[i.id]=i,a),{})),"fetchRelatedRecords"),Sd=n((e,t)=>Array.from(new Set(e.filter(r=>r[t]!=null).map(r=>r[t]).reduce((r,o)=>r.concat(o),[]))),"getRelatedIds"),qi=Md;var tc=b(require("react")),yr=b(require("inflection"));var je=n(e=>e.reduce((t,r)=>(Object.keys(r).forEach(o=>{if(t[o]||(t[o]=[]),r[o]!=null){let s=Array.isArray(r[o])?[r[o]]:r[o];t[o]=t[o].concat(s)}}),t),{}),"default");var Kn=require("react"),Xn=class{constructor(t,r,o){this.type=t;this.props=r;this.children=o}getElement(t={}){if(!!this.isDefined())return this.children?(0,Kn.createElement)(this.type.component,f(f({},this.props),t),this.children.length>0?this.children.map((r,o)=>r.getElement({key:o})):this.children.getElement()):(0,Kn.createElement)(this.type.component,f(f({},this.props),t))}getProps(){return this.props}isDefined(){return!!this.type}getRepresentation(){if(!!this.isDefined())return this.type.representation?this.type.representation(this.props,this.children):`<${this.type.component.displayName||this.type.component.name} source="${this.props.source}" />`}};n(Xn,"InferredElement");var Q=Xn;var et=require("date-fns"),Ld=n(e=>!isNaN(parseFloat(e))&&isFinite(e),"isNumeric"),pr=n(e=>e.every(Ld),"valuesAreNumeric"),bd=n(e=>Number.isInteger(e)||!isNaN(parseInt(e)),"isInteger"),mr=n(e=>e.every(bd),"valuesAreInteger"),vd=n(e=>typeof e=="boolean","isBoolean"),ko=n(e=>e.every(vd),"valuesAreBoolean");var Ed=n(e=>typeof e=="string","isString"),jo=n(e=>e.every(Ed),"valuesAreString"),wd=/<([A-Z][A-Z0-9]*)\b[^>]*>(.*?)<\/\1>/i,Dd=n(e=>!e||wd.test(e),"isHtml"),Vo=n(e=>e.every(Dd),"valuesAreHtml"),Id=/http(s*):\/\/.*/i,Ad=n(e=>!e||Id.test(e),"isUrl"),Ki=n(e=>e.every(Ad),"valuesAreUrl"),Fd=/http(s*):\/\/.*\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i,Nd=n(e=>!e||Fd.test(e),"isImageUrl"),Xi=n(e=>e.every(Nd),"valuesAreImageUrl"),Od=/@{1}/,Ud=n(e=>!e||Od.test(e),"isEmail"),ec=n(e=>e.every(Ud),"valuesAreEmail"),kd=n(e=>Array.isArray(e),"isArray"),Go=n(e=>e.every(kd),"valuesAreArray"),jd=n(e=>!e||e instanceof Date,"isDate"),Qo=n(e=>e.every(jd),"valuesAreDate"),Vd=n(e=>!e||typeof e=="string"&&((0,et.isMatch)(e,"MM/dd/yyyy")||(0,et.isMatch)(e,"MM/dd/yy")||(0,et.isValid)((0,et.parseISO)(e))),"isDateString"),_o=n(e=>e.every(Vd),"valuesAreDateString"),fr=n(e=>Object.prototype.toString.call(e)==="[object Object]","isObject"),zo=n(e=>e.every(fr),"valuesAreObject");var Gd=n(()=>tc.createElement("span",null,";"),"DefaultComponent"),Re={type:Gd,representation:()=>"<DefaultComponent />"},Qd={array:Re,boolean:Re,date:Re,email:Re,id:Re,number:Re,reference:Re,referenceArray:Re,richText:Re,string:Re,url:Re},ie=n((e,t)=>typeof t[e]!="undefined","hasType"),es=n((e,t=[],r=Qd)=>{if(e==="id"&&ie("id",r))return new Q(r.id,{source:e});if(e.substr(e.length-3)==="_id"&&ie("reference",r)){let o=yr.default.pluralize(e.substr(0,e.length-3));return r.reference&&new Q(r.reference,{source:e,reference:o},new Q(r.referenceChild))}if(e.substr(e.length-2)==="Id"&&ie("reference",r)){let o=yr.default.pluralize(e.substr(0,e.length-2));return r.reference&&new Q(r.reference,{source:e,reference:o},new Q(r.referenceChild))}if(e.substr(e.length-4)==="_ids"&&ie("referenceArray",r)){let o=yr.default.pluralize(e.substr(0,e.length-4));return r.referenceArray&&new Q(r.referenceArray,{source:e,reference:o},new Q(r.referenceArrayChild))}if(e.substr(e.length-3)==="Ids"&&ie("referenceArray",r)){let o=yr.default.pluralize(e.substr(0,e.length-3));return r.referenceArray&&new Q(r.referenceArray,{source:e,reference:o},new Q(r.referenceArrayChild))}if(t.length===0)return new Q(r.string,{source:e});if(Go(t)){if(fr(t[0][0])&&ie("array",r)){let o=je(t.reduce((s,a)=>s.concat(a),[]));return r.array&&new Q(r.array,{source:e},Object.keys(o).map(s=>es(s,o[s],r)))}return new Q(r.string,{source:e})}if(ko(t)&&ie("boolean",r))return new Q(r.boolean,{source:e});if(Qo(t)&&ie("date",r))return new Q(r.date,{source:e});if(jo(t))return e==="email"&&ie("email",r)?new Q(r.email,{source:e}):e==="url"&&ie("url",r)?new Q(r.url,{source:e}):_o(t)&&ie("date",r)?new Q(r.date,{source:e}):Vo(t)&&ie("richText",r)?new Q(r.richText,{source:e}):new Q(r.string,{source:e});if((mr(t)||pr(t))&&ie("number",r))return new Q(r.number,{source:e});if(zo(t)){let o=Object.keys(t[0]).shift(),s=t.map(a=>a[o]);return es(`${e}.${o}`,s,r)}return new Q(r.string,{source:e})},"inferElementFromValues"),rc=es;var oc=n((e,t)=>{let r=je(e);return Object.keys(r).reduce((o,s)=>o.concat(rc(s,r[s],t)),[]).filter(o=>o.isDefined())},"default");var gr=b(require("inflection"));var _d=["array","boolean","date","email","id","image","number","reference","referenceChild","referenceArray","referenceArrayChild","richText","string","url","object"],ts=n((e,t=[])=>{if(e==="id")return{type:"id",props:{source:e}};if(e.substr(e.length-3)==="_id")return{type:"reference",props:{source:e,reference:gr.default.pluralize(e.substr(0,e.length-3))},children:{type:"referenceChild"}};if(e.substr(e.length-2)==="Id")return{type:"reference",props:{source:e,reference:gr.default.pluralize(e.substr(0,e.length-2))},children:{type:"referenceChild"}};if(e.substr(e.length-4)==="_ids")return{type:"referenceArray",props:{source:e,reference:gr.default.pluralize(e.substr(0,e.length-4))},children:{type:"referenceArrayChild"}};if(e.substr(e.length-3)==="Ids")return{type:"referenceArray",props:{source:e,reference:gr.default.pluralize(e.substr(0,e.length-3))},children:{type:"referenceArrayChild"}};if(t.length===0)return e==="email"?{type:"email",props:{source:e}}:e==="url"?{type:"url",props:{source:e}}:{type:"string",props:{source:e}};if(Go(t)){if(fr(t[0][0])){let r=je(t.reduce((o,s)=>o.concat(s),[]));return{type:"array",props:{source:e},children:Object.keys(r).map(o=>ts(o,r[o]))}}return{type:"string",props:{source:e}}}if(ko(t))return{type:"boolean",props:{source:e}};if(Qo(t))return{type:"date",props:{source:e}};if(jo(t))return e==="email"||ec(t)?{type:"email",props:{source:e}}:e==="url"||Ki(t)?Xi(t)?{type:"image",props:{source:e}}:{type:"url",props:{source:e}}:_o(t)?{type:"date",props:{source:e}}:Vo(t)?{type:"richText",props:{source:e}}:mr(t)||pr(t)?{type:"number",props:{source:e}}:{type:"string",props:{source:e}};if(mr(t)||pr(t))return{type:"number",props:{source:e}};if(zo(t)){let r=Object.keys(t[0]).shift(),o=t.map(s=>s[r]);return ts(`${e}.${r}`,o)}return{type:"string",props:{source:e}}},"inferTypeFromValues");var tt=require("react"),nc=b(require("lodash/debounce")),sc=b(require("lodash/isEqual"));var zd=n(e=>({q:e}),"defaultFilterToQuery"),ac=n(({filterToQuery:e=zd,permanentFilter:t={},debounceTime:r=500})=>{let o=(0,tt.useRef)(t),s=(0,tt.useRef)(),[a,i]=W(f(f({},t),e(""))),u=JSON.stringify(t);(0,tt.useEffect)(()=>{(0,sc.default)(o.current,t)||(o.current=t,i(f(f({},t),e(s.current))))},[u,o,e]);let c=(0,tt.useCallback)((0,nc.default)(d=>{i(f(f({},t),e(d))),s.current=d},r),[u]);return{filter:a,setFilter:c}},"default");var Me=require("react");var ic=b(require("lodash/set"));var xt="SET_SORT",ce="ASC",Rr="DESC",rt="SET_PAGE",Ct="SET_PER_PAGE",Ve="SET_FILTER",Tt="SHOW_FILTER",Mt="HIDE_FILTER",Wd=n(e=>e===Rr?ce:Rr,"oppositeOrder"),Pr=n((e,t)=>{switch(t.type){case xt:return t.payload.field===e.sort?D(f({},e),{order:Wd(e.order),page:1}):D(f({},e),{sort:t.payload.field,order:t.payload.order||ce,page:1});case rt:return D(f({},e),{page:t.payload});case Ct:return D(f({},e),{page:1,perPage:t.payload});case Ve:return D(f({},e),{page:1,filter:t.payload.filter,displayedFilters:t.payload.displayedFilters?t.payload.displayedFilters:e.displayedFilters});case Tt:return e.displayedFilters&&e.displayedFilters[t.payload.filterName]?e:D(f({},e),{filter:typeof t.payload.defaultValue!="undefined"?(0,ic.default)(e.filter,t.payload.filterName,t.payload.defaultValue):e.filter,displayedFilters:D(f({},e.displayedFilters),{[t.payload.filterName]:!0})});case Mt:return D(f({},e),{filter:te(zr(e.filter,t.payload)),displayedFilters:e.displayedFilters?Object.keys(e.displayedFilters).reduce((r,o)=>o!==t.payload?D(f({},r),{[o]:!0}):r,{}):e.displayedFilters});default:return e}},"queryReducer"),rs=Pr;var Hd=n((e,t)=>{switch(t.type){case"SET_SORT":return t.payload;case"SET_SORT_FIELD":{let r=t.payload,o=e.field===r?e.order===ce?Rr:ce:ce;return{field:r,order:o}}case"SET_SORT_ORDER":{let r=t.payload;return D(f({},e),{order:r})}default:return e}},"sortReducer"),Yd={field:"id",order:"DESC"},Jd=n((e=Yd)=>{let[t,r]=(0,Me.useReducer)(Hd,e),o=(0,Me.useRef)(!0);return(0,Me.useEffect)(()=>{if(o.current){o.current=!1;return}r({type:"SET_SORT",payload:e})},[e.field,e.order]),{setSort:(0,Me.useCallback)(s=>r({type:"SET_SORT",payload:s}),[r]),setSortField:(0,Me.useCallback)(s=>r({type:"SET_SORT_FIELD",payload:s}),[r]),setSortOrder:(0,Me.useCallback)(s=>r({type:"SET_SORT_ORDER",payload:s}),[r]),sort:t}},"useSortState"),St=Jd;var De=require("react"),$d=n((e,t)=>f(f({},e),t),"paginationReducer"),Zd={page:1,perPage:25},Lt=n((e={})=>{let[t,r]=(0,De.useReducer)($d,f(f({},Zd),e)),o=(0,De.useRef)(!0),s=(0,De.useCallback)(i=>r({perPage:i,page:1}),[]),a=(0,De.useCallback)(i=>r({page:i}),[]);return(0,De.useEffect)(()=>{if(o.current){o.current=!1;return}s(e.perPage||25)},[e.perPage,s]),{page:t.page,perPage:t.perPage,pagination:t,setPage:a,setPerPage:s,setPagination:r}},"default");var Bd=b(require("react"));var cc=n((e,t,r)=>{let o=Object.keys(r),s=t.filter(a=>!o.includes(a));if(s.length>0)throw new Error(`<${e}> component is not properly configured, some essential props are missing.
Be sure to pass the props from the parent. Example:

const My${e} = props => (
    <${e} {...props}></${e}>
);

The missing props are: ${s.join(", ")}`)},"useCheckMinimumRequiredProps");var uc=require("react");var qd=n(e=>{let{record:t,redirect:r="list",onClick:o,mutationOptions:s}=e,a=z(e),i=V(),u=hr(a),c=pe(),[d,{isLoading:p}]=sr(),m=(0,uc.useCallback)(h=>{h.stopPropagation(),d(a,{id:t.id,previousData:t},f({onSuccess:()=>{i("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:!0}),u([t.id]),c(r,a)},onError:x=>{i(typeof x=="string"?x:x.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof x=="string"?x:x&&x.message?x.message:void 0}})},mutationMode:"undoable"},s)),typeof o=="function"&&o(h)},[d,s,i,o,t,c,r,a,u]);return{isLoading:p,handleDelete:m}},"useDeleteWithUndoController"),lc=qd;var Wo=require("react");var Kd=n(e=>{let{record:t,redirect:r,mutationMode:o,onClick:s,mutationOptions:a}=e,i=z(e),[u,c]=(0,Wo.useState)(!1),d=V(),p=hr(i),m=pe(),[h,{isLoading:x}]=sr(),L=n(y=>{c(!0),y.stopPropagation()},"handleDialogOpen"),T=n(y=>{c(!1),y.stopPropagation()},"handleDialogClose"),P=(0,Wo.useCallback)(y=>{y.stopPropagation(),h(i,{id:t.id,previousData:t},f({onSuccess:()=>{c(!1),d("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),p([t.id]),m(r,i)},onError:g=>{c(!1),d(typeof g=="string"?g:g.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof g=="string"?g:g&&g.message?g.message:void 0}})},mutationMode:o},a)),typeof s=="function"&&s(y)},[h,o,a,d,s,t,m,r,i,p]);return{open:u,isLoading:x,handleDialogOpen:L,handleDialogClose:T,handleDelete:P}},"useDeleteWithConfirmController"),dc=Kd;var ns=b(require("react"));var Pc=require("react"),hc=require("query-string"),xc=require("react-router-dom");var pc=require("react"),xr=(0,pc.createContext)(void 0);var mc=b(require("react"));var Cr=n(({children:e,value:t})=>mc.createElement(xr.Provider,{value:t},e),"SaveContextProvider");var fc=require("react"),yc=b(require("lodash/pick")),Tr=n(e=>(0,fc.useMemo)(()=>(0,yc.default)(e,["save","saving","mutationMode","registerMutationMiddleware","unregisterMutationMiddleware"]),[e.save,e.saving,e.mutationMode,e.registerMutationMiddleware,e.unregisterMutationMiddleware]),"usePickSaveContext");var gc=require("react");var Mr=n(e=>(0,gc.useContext)(xr),"useSaveContext");var Ge=require("react"),Sr=n(()=>{let e=(0,Ge.useRef)([]),t=(0,Ge.useCallback)(a=>{e.current.push(a)},[]),r=(0,Ge.useCallback)(a=>{e.current=e.current.filter(i=>i!==a)},[]),o=(0,Ge.useCallback)(a=>(...i)=>{let u=e.current.length-1,c=n((...d)=>(u--,u>=0?e.current[u](...d,c):a(...d)),"next");return e.current.length>0?e.current[u](...i,c):a(...i)},[]);return(0,Ge.useMemo)(()=>({registerMutationMiddleware:t,getMutateWithMiddlewares:o,unregisterMutationMiddleware:r}),[t,o,r])},"useMutationMiddlewares");var Rc=require("react");var Xd=n(e=>{let{registerMutationMiddleware:t,unregisterMutationMiddleware:r}=Mr();(0,Rc.useEffect)(()=>(t(e),()=>{r(e)}),[e,t,r])},"useRegisterMutationMiddleware");var Lr=n((e={})=>{var O;let{disableAuthentication:t,record:r,redirect:o,transform:s,mutationOptions:a={}}=e;se({enabled:!t});let i=z(e),{hasEdit:u,hasShow:c}=qn(e),d=o!=null?o:ep(c,u),p=(0,xc.useLocation)(),m=_(),h=V(),x=pe(),L=(O=r!=null?r:Cc(p))!=null?O:void 0,A=a,{onSuccess:T,onError:P}=A,y=F(A,["onSuccess","onError"]),{registerMutationMiddleware:g,getMutateWithMiddlewares:M,unregisterMutationMiddleware:C}=Sr(),[R,{isLoading:v}]=Hn(i,void 0,y),S=(0,Pc.useCallback)((w,{onSuccess:U,onError:G,transform:$}={})=>Promise.resolve($?$(w):s?s(w):w).then(q=>{M(R)(i,{data:q},{onSuccess:async(I,j,H)=>{if(U)return U(I,j,H);if(T)return T(I,j,H);h("ra.notification.created",{type:"info",messageArgs:{smart_count:1}}),x(d,i,I.id,I)},onError:G||P||(I=>{h(typeof I=="string"?I:I.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof I=="string"?I:I&&I.message?I.message:void 0}})})})}),[R,d,M,h,P,T,x,i,s]),E=we(),N=m("ra.page.create",{name:E(i,1)});return{isFetching:!1,isLoading:!1,saving:v,defaultTitle:N,save:S,resource:i,record:L,redirect:d,registerMutationMiddleware:g,unregisterMutationMiddleware:C}},"useCreateController"),Cc=n(({state:e,search:t})=>{if(e&&e.record)return e.record;if(t)try{let r=(0,hc.parse)(t);if(r.source){if(Array.isArray(r.source)){console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`);return}return JSON.parse(r.source)}}catch{console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`)}return null},"getRecordFromLocation"),ep=n((e,t)=>t?"edit":e?"show":"list","getDefaultRedirectRoute");var Ho=b(require("react"));var Tc=b(require("react")),Mc=require("react"),br=(0,Mc.createContext)(void 0);br.displayName="RecordContext";var Pe=n(({children:e,value:t})=>Tc.createElement(br.Provider,{value:t},e),"RecordContextProvider");var Sc=require("react"),bt=(0,Sc.createContext)({record:null,defaultTitle:null,isFetching:null,isLoading:null,redirect:null,resource:null,save:null,saving:null,registerMutationMiddleware:null,unregisterMutationMiddleware:null});bt.displayName="CreateContext";var os=n(({children:e,value:t})=>Ho.createElement(bt.Provider,{value:t},Ho.createElement(Cr,{value:D(f({},Tr(t)),{mutationMode:"pessimistic"})},Ho.createElement(Pe,{value:t&&t.record},e))),"CreateContextProvider");var tp=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=Lr(t),a=ns.createElement(os,{value:s},e);return t.resource?ns.createElement(ye,{value:t.resource},a):a},"CreateBase");var rp=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=Lr(t);return e(s)},"CreateController");var Yo=require("react"),Lc=b(require("lodash/defaults"));var op=n(e=>{let t=(0,Yo.useContext)(bt);return(0,Yo.useMemo)(()=>(0,Lc.default)({},e!=null?np(e):{},t),[t,e])},"useCreateContext"),np=n(({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:s,resource:a,save:i,saving:u})=>({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:s,resource:a,save:i,saving:u}),"extractCreateContextProps");var is=b(require("react"));var bc=require("react"),vc=require("react-router-dom");var vr=n((e={})=>{let{disableAuthentication:t,id:r,mutationMode:o="undoable",mutationOptions:s={},queryOptions:a={},redirect:i=Ec,transform:u}=e;se({enabled:!t});let c=z(e),d=_(),p=V(),m=pe(),h=rr(),{id:x}=(0,vc.useParams)(),L=r||decodeURIComponent(x),q=s,{onSuccess:T,onError:P}=q,y=F(q,["onSuccess","onError"]),{registerMutationMiddleware:g,getMutateWithMiddlewares:M,unregisterMutationMiddleware:C}=Sr(),{data:R,error:v,isLoading:S,isFetching:E,refetch:N}=or(c,{id:L},f({onError:()=>{p("ra.notification.item_doesnt_exist",{type:"warning"}),m("list",c),h()},refetchOnReconnect:!1,refetchOnWindowFocus:!1,retry:!1},a));if(R&&R.id&&R.id!=L)throw new Error(`useEditController: Fetched record's id attribute (${R.id}) must match the requested 'id' (${L})`);let O=we(),A=d("ra.page.edit",{name:O(c,1),id:L,record:R}),w={id:L,previousData:R},[U,{isLoading:G}]=Yn(c,w,D(f({},y),{mutationMode:o})),$=(0,bc.useCallback)((k,{onSuccess:I,onError:j,transform:H}={})=>Promise.resolve(H?H(k,{previousData:w.previousData}):u?u(k,{previousData:w.previousData}):k).then(J=>M(U)(c,{id:L,data:J},{onSuccess:async(Z,He,_t)=>{if(I)return I(Z,He,_t);if(T)return T(Z,He,_t);p("ra.notification.updated",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),m(i,c,Z.id,Z)},onError:j||P||(Z=>{p(typeof Z=="string"?Z:Z.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof Z=="string"?Z:Z&&Z.message?Z.message:void 0}})})})),[L,M,o,p,P,T,m,i,c,u,U,w.previousData]);return{defaultTitle:A,error:v,isFetching:E,isLoading:S,mutationMode:o,record:R,redirect:Ec,refetch:N,registerMutationMiddleware:g,resource:c,save:$,saving:G,unregisterMutationMiddleware:C}},"useEditController"),Ec="list";var Jo=b(require("react"));var wc=require("react");var he=n(e=>{let t=(0,wc.useContext)(br);return e&&e.record||t},"useRecordContext");var sp=n(({render:e})=>{let t=he();return t?e(t):null},"WithRecord");var Dc=b(require("react"));var ss=n(({value:e,children:t})=>e?Dc.createElement(Pe,{value:e},t):t,"OptionalRecordContextProvider");var Ic=require("react"),vt=(0,Ic.createContext)({record:null,defaultTitle:null,isFetching:null,isLoading:null,mutationMode:null,redirect:null,refetch:null,resource:null,save:null,saving:null,registerMutationMiddleware:null,unregisterMutationMiddleware:null});vt.displayName="EditContext";var as=n(({children:e,value:t})=>Jo.createElement(vt.Provider,{value:t},Jo.createElement(Cr,{value:Tr(t)},Jo.createElement(Pe,{value:t&&t.record},e))),"EditContextProvider");var ap=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=vr(t),a=is.createElement(as,{value:s},e);return t.resource?is.createElement(ye,{value:t.resource},a):a},"EditBase");var ip=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=vr(t);return e(s)},"EditController");var $o=require("react"),Ac=b(require("lodash/defaults"));var cp=n(e=>{let t=(0,$o.useContext)(vt);return(0,$o.useMemo)(()=>(0,Ac.default)({},e!=null?up(e):{},t),[t,e])},"useEditContext"),up=n(({data:e,record:t,defaultTitle:r,isFetching:o,isLoading:s,mutationMode:a,redirect:i,resource:u,save:c,saving:d})=>({data:t||e,record:t||e,defaultTitle:r,isFetching:o,isLoading:s,mutationMode:a,redirect:i,resource:u,save:c,saving:d}),"extractEditContextProps");var tu=b(require("lodash/get"));var ys=b(require("react"));var Et=require("react");var Fc=require("react");var xe=n(e=>{let t=`${e}.selectedIds`,[r,o]=me(t,lp),s=An(t),a=(0,Fc.useMemo)(()=>({select:i=>{!i||o([...i])},unselect(i){!i||i.length===0||o(u=>Array.isArray(u)?u.filter(c=>!i.includes(c)):[])},toggle:i=>{typeof i!="undefined"&&o(u=>{if(!Array.isArray(u))return[...u];let c=u.indexOf(i);return c>-1?[...u.slice(0,c),...u.slice(c+1)]:[...u,i]})},clearSelection:()=>{s()}}),[o,s]);return[r,a]},"useRecordSelection"),lp=[];var X=require("react"),Zo=require("query-string"),Nc=b(require("lodash/debounce")),Oc=b(require("lodash/pickBy")),Bo=require("react-router-dom");var cs=n(({resource:e,filterDefaultValues:t,sort:r=dp,perPage:o=10,debounce:s=500,disableSyncWithLocation:a=!1})=>{let i=(0,Bo.useLocation)(),u=(0,Bo.useNavigate)(),[c,d]=(0,X.useState)(_c),p=`${e}.listParams`,[m,h]=me(p,_c),x=(0,X.useRef)(),L=Dn(),T=[i.search,e,JSON.stringify(a?c:m),JSON.stringify(t),JSON.stringify(r),o,a],P=a?{}:jc(i),y=(0,X.useMemo)(()=>Gc({queryFromLocation:P,params:a?c:m,filterDefaultValues:t,sort:r,perPage:o}),T);(0,X.useEffect)(()=>{Object.keys(P).length>0&&h(y)},[i.search]);let g=(0,X.useCallback)(w=>{!L.current||(x.current?x.current=rs(x.current,w):(x.current=rs(y,w),setTimeout(()=>{a?d(x.current):u({search:`?${(0,Zo.stringify)(D(f({},x.current),{filter:JSON.stringify(x.current.filter),displayedFilters:JSON.stringify(x.current.displayedFilters)}))}`},{state:{_scrollToTop:w.type===rt}}),x.current=void 0},0)))},T),M=(0,X.useCallback)(w=>g({type:xt,payload:w}),T),C=(0,X.useCallback)(w=>g({type:rt,payload:w}),T),R=(0,X.useCallback)(w=>g({type:Ct,payload:w}),T),v=y.filter||Qc,S=y.displayedFilters||Qc,E=(0,Nc.default)((w,U)=>{g({type:Ve,payload:{filter:te(w),displayedFilters:U}})},s),N=(0,X.useCallback)((w,U,G=!0)=>G?E(w,U):g({type:Ve,payload:{filter:te(w),displayedFilters:U}}),T),O=(0,X.useCallback)(w=>{g({type:Mt,payload:w})},T),A=(0,X.useCallback)((w,U)=>{g({type:Tt,payload:{filterName:w,defaultValue:U}})},T);return[f({displayedFilters:S,filterValues:v,requestSignature:T},y),{changeParams:g,setPage:C,setPerPage:R,setSort:M,setFilters:N,hideFilter:O,showFilter:A}]},"useListParams"),Uc=["page","perPage","sort","order","filter","displayedFilters"],kc=n((e,t)=>{if(e[t]&&typeof e[t]=="string")try{e[t]=JSON.parse(e[t])}catch{delete e[t]}},"parseObject"),jc=n(({search:e})=>{let t=(0,Oc.default)((0,Zo.parse)(e),(r,o)=>Uc.indexOf(o)!==-1);return kc(t,"filter"),kc(t,"displayedFilters"),t},"parseQueryFromLocation"),Vc=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),Gc=n(({queryFromLocation:e,params:t,filterDefaultValues:r,sort:o,perPage:s})=>{let a=Object.keys(e).length>0?e:Vc(t)?f({},t):{filter:r||{}};return a.sort||(a.sort=o.field,a.order=o.order),a.perPage==null&&(a.perPage=s),a.page==null&&(a.page=1),D(f({},a),{page:us(a.page,1),perPage:us(a.perPage,10)})},"getQuery"),us=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),Qc={},dp={field:"id",order:ce},_c={};var Er=n((e={})=>{let{disableAuthentication:t,exporter:r=ht,filterDefaultValues:o,sort:s=pp,perPage:a=10,filter:i,debounce:u=500,disableSyncWithLocation:c,queryOptions:d}=e;se({enabled:!t});let p=z(e);if(!p)throw new Error("<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.");if(i&&(0,Et.isValidElement)(i))throw new Error("<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.");let m=_(),h=V(),[x,L]=cs({resource:p,filterDefaultValues:o,sort:s,perPage:a,debounce:u,disableSyncWithLocation:c}),[T,P]=xe(p),{data:y,pageInfo:g,total:M,error:C,isLoading:R,isFetching:v,refetch:S}=qe(p,{pagination:{page:x.page,perPage:x.perPage},sort:{field:x.sort,order:x.order},filter:f(f({},x.filter),i)},f({keepPreviousData:!0,retry:!1,onError:A=>h((A==null?void 0:A.message)||"ra.notification.http_error",{type:"warning",messageArgs:{_:A==null?void 0:A.message}})},d));(0,Et.useEffect)(()=>{if(x.page<=0||!v&&x.page>1&&y.length===0){L.setPage(1);return}if(M==null)return;let A=Math.ceil(M/x.perPage)||1;!v&&x.page>A&&L.setPage(A)},[v,x.page,x.perPage,y,L,M]);let E=(0,Et.useMemo)(()=>({field:x.sort,order:x.order}),[x.sort,x.order]),N=we(),O=m("ra.page.list",{name:N(p,2)});return{sort:E,data:y,defaultTitle:O,displayedFilters:x.displayedFilters,error:C,exporter:r,filter:i,filterValues:x.filterValues,hideFilter:L.hideFilter,isFetching:v,isLoading:R,onSelect:P.select,onToggleItem:P.toggle,onUnselectItems:P.clearSelection,page:x.page,perPage:x.perPage,refetch:S,resource:p,selectedIds:T,setFilters:L.setFilters,setPage:L.setPage,setPerPage:L.setPerPage,setSort:L.setSort,showFilter:L.showFilter,total:M,hasNextPage:g?g.hasNextPage:M!=null?x.page*x.perPage<M:void 0,hasPreviousPage:g?g.hasPreviousPage:x.page>1}},"useListController"),pp={field:"id",order:ce},ls=["sort","data","defaultTitle","displayedFilters","error","exporter","filterValues","hideFilter","isFetching","isLoading","onSelect","onToggleItem","onUnselectItems","page","perPage","refetch","refresh","resource","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","total","totalPages"],mp=n(e=>ls.reduce((t,r)=>D(f({},t),{[r]:e[r]}),{}),"getListControllerProps"),fp=n(e=>Object.keys(e).filter(t=>!ls.includes(t)).reduce((t,r)=>D(f({},t),{[r]:e[r]}),{}),"sanitizeListRestProps");var wr=b(require("react"));var zc=require("react"),wt=(0,zc.createContext)({sort:null,data:null,defaultTitle:null,displayedFilters:null,exporter:null,filterValues:null,hasNextPage:null,hasPreviousPage:null,hideFilter:null,isFetching:null,isLoading:null,onSelect:null,onToggleItem:null,onUnselectItems:null,page:null,perPage:null,refetch:null,resource:null,selectedIds:void 0,setFilters:null,setPage:null,setPerPage:null,setSort:null,showFilter:null,total:null});wt.displayName="ListContext";var qo=require("react"),Wc=b(require("lodash/pick")),Dt=(0,qo.createContext)({displayedFilters:null,filterValues:null,hideFilter:null,setFilters:null,showFilter:null,resource:null}),ds=n(e=>(0,qo.useMemo)(()=>(0,Wc.default)(e,["displayedFilters","filterValues","hideFilter","setFilters","showFilter","resource"]),[e.displayedFilters,e.filterValues,e.hideFilter,e.setFilters,e.showFilter]),"usePickFilterContext");Dt.displayName="ListFilterContext";var Ko=require("react"),Hc=b(require("lodash/pick")),It=(0,Ko.createContext)({sort:null,setSort:null,resource:null}),ps=n(e=>(0,Ko.useMemo)(()=>(0,Hc.default)(e,["sort","setSort","resource"]),[e.sort,e.setSort]),"usePickSortContext");It.displayName="ListSortContext";var Xo=require("react"),Yc=b(require("lodash/pick")),At=(0,Xo.createContext)({isLoading:null,page:null,perPage:null,setPage:null,setPerPage:null,hasPreviousPage:null,hasNextPage:null,total:void 0,resource:null});At.displayName="ListPaginationContext";var ms=n(e=>(0,Xo.useMemo)(()=>(0,Yc.default)(e,["isLoading","hasPreviousPage","hasNextPage","page","perPage","setPage","setPerPage","total","resource"]),[e.isLoading,e.hasPreviousPage,e.hasNextPage,e.page,e.perPage,e.setPage,e.setPerPage,e.total]),"usePickPaginationContext");var fs=n(({value:e,children:t})=>wr.createElement(wt.Provider,{value:e},wr.createElement(Dt.Provider,{value:ds(e)},wr.createElement(It.Provider,{value:ps(e)},wr.createElement(At.Provider,{value:ms(e)},t)))),"ListContextProvider");var yp=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);return ys.createElement(ye,{value:t.resource},ys.createElement(fs,{value:Er(t)},e))},"ListBase");var gp=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=Er(t);return e(s)},"ListController");var ue=require("react"),Ft=b(require("lodash/get")),Jc=b(require("lodash/isEqual"));var Rp=n(()=>{throw new Error("refetch is not available for a ListContext built from useList based on local data")},"refetch"),Dr=n(e=>{let{data:t,error:r,filter:o=Pp,isFetching:s=!1,isLoading:a=!1,page:i=1,perPage:u=1e3,sort:c=hp}=e,d=z(e),[p,m]=W(s),[h,x]=W(a),[L,T]=W(()=>({data:t,total:t?t.length:void 0})),{page:P,setPage:y,perPage:g,setPerPage:M}=Lt({page:i,perPage:u}),{sort:C,setSort:R}=St(c),v=(0,ue.useCallback)(k=>{R(k),y(1)},[y,R]),[S,E]=xe(d),N=(0,ue.useRef)(o),[O,A]=W({}),[w,U]=W(o),G=(0,ue.useCallback)(k=>{A(I=>{let J=I,{[k]:j}=J;return F(J,[Ae(k)])}),U(I=>{let J=I,{[k]:j}=J;return F(J,[Ae(k)])})},[A,U]),$=(0,ue.useCallback)((k,I)=>{A(j=>D(f({},j),{[k]:!0})),U(j=>te(D(f({},j),{[k]:I})))},[A,U]),q=(0,ue.useCallback)((k,I)=>{U(te(k)),I&&A(I),y(1)},[A,U,y]);return(0,ue.useEffect)(()=>{(0,Jc.default)(o,N.current)||(N.current=o,U(o))}),(0,ue.useEffect)(()=>{if(a||!t)return;let k=t.filter(j=>Object.entries(w).every(([H,J])=>{let ee=(0,Ft.default)(j,H);return Array.isArray(ee)?Array.isArray(J)?ee.some(He=>J.includes(He)):ee.includes(J):Array.isArray(J)?J.includes(ee):J==ee})),I=k.length;C.field&&(k=k.sort((j,H)=>(0,Ft.default)(j,C.field)>(0,Ft.default)(H,C.field)?C.order==="ASC"?1:-1:(0,Ft.default)(j,C.field)<(0,Ft.default)(H,C.field)?C.order==="ASC"?-1:1:0)),k=k.slice((P-1)*g,P*g),T({data:k,total:I})},[JSON.stringify(t),w,a,P,g,T,C.field,C.order]),(0,ue.useEffect)(()=>{s!==p&&m(s)},[s,p,m]),(0,ue.useEffect)(()=>{a!==h&&x(a)},[a,h,x]),{sort:C,data:L.data,defaultTitle:"",error:r,displayedFilters:O,filterValues:w,hasNextPage:P*g<L.total,hasPreviousPage:P>1,hideFilter:G,isFetching:p,isLoading:h,onSelect:E.select,onToggleItem:E.toggle,onUnselectItems:E.clearSelection,page:P,perPage:g,resource:void 0,refetch:Rp,selectedIds:S,setFilters:q,setPage:y,setPerPage:M,setSort:v,showFilter:$,total:L.total}},"useList"),Pp={},hp={field:null,order:null};var en=require("react"),$c=b(require("lodash/defaults"));var xp=n(e=>{let t=(0,en.useContext)(wt);return(0,en.useMemo)(()=>(0,$c.default)({},e!=null?Cp(e):{},t),[t,e])},"useListContext"),Cp=n(({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:s,filterValues:a,hasCreate:i,hideFilter:u,isFetching:c,isLoading:d,onSelect:p,onToggleItem:m,onUnselectItems:h,page:x,perPage:L,refetch:T,resource:P,selectedIds:y,setFilters:g,setPage:M,setPerPage:C,setSort:R,showFilter:v,total:S})=>({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:s,filterValues:a,hasCreate:i,hideFilter:u,isFetching:c,isLoading:d,onSelect:p,onToggleItem:m,onUnselectItems:h,page:x,perPage:L,refetch:T,resource:P,selectedIds:y,setFilters:g,setPage:M,setPerPage:C,setSort:R,showFilter:v,total:S}),"extractListContextProps");var Zc=require("react");var Tp=n(e=>{let t=(0,Zc.useContext)(Dt);return t.hideFilter?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListFilterContext");var Bc=require("react");var Mp=n(e=>{let t=(0,Bc.useContext)(At);return t.setPage?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListPaginationContext");var qc=require("react");var Sp=n(e=>{let t=(0,qc.useContext)(It);return t.setSort?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListSortContext");var Kc=require("react");var hr=n(e=>{let[,{unselect:t}]=xe(e);return(0,Kc.useCallback)(r=>{t(r)},[t])},"useUnselect");var Xc=require("react");var Lp=n(e=>{let[,{clearSelection:t}]=xe(e);return(0,Xc.useCallback)(()=>{t()},[t])},"useUnselectAll");var eu=require("react");var bp=n((e,t,r=!1)=>{let[o,s]=me(`${e}.datagrid.expanded`,[]),a=Array.isArray(o)?o.map(u=>u==t).indexOf(!0)!==-1:!1,i=(0,eu.useCallback)(()=>{s(u=>{if(!Array.isArray(u))return[t];let c=u.findIndex(d=>d==t);return c>-1?r?[]:[...u.slice(0,c),...u.slice(c+1)]:r?[t]:[...u,t]})},[s,t,r]);return[a,i]},"useExpanded");var vp=[],Ep={},wp={field:null,order:null},Dp=n(e=>{let{filter:t=Ep,page:r=1,perPage:o=1e3,record:s,reference:a,sort:i=wp,source:u}=e,c=V(),d=(0,tu.default)(s,u)||vp,{data:p,error:m,isLoading:h,isFetching:x,refetch:L}=Ke(a,{ids:d},{onError:P=>c(typeof P=="string"?P:P.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof P=="string"?P:P&&P.message?P.message:void 0}})}),T=Dr({data:p,error:m,filter:t,isFetching:x,isLoading:h,page:r,perPage:o,sort:i});return D(f({},T),{defaultTitle:null,refetch:L,resource:a})},"useReferenceArrayFieldController");var ru=b(require("lodash/get")),Ie=require("react"),ou=b(require("lodash/isEqual"));var Ip={},Ap=n(e=>{let{reference:t,record:r,target:o,filter:s=Ip,source:a,page:i,perPage:u,sort:c={field:"id",order:"DESC"}}=e,d=V(),{page:p,setPage:m,perPage:h,setPerPage:x}=Lt({page:i,perPage:u}),{sort:L,setSort:T}=St(c),P=(0,Ie.useCallback)(I=>{T(I),m(1)},[m,T]),[y,g]=xe(t),M=(0,Ie.useRef)(s),[C,R]=W({}),[v,S]=W(s),E=(0,Ie.useCallback)(I=>{R(j=>{let ee=j,{[I]:H}=ee;return F(ee,[Ae(I)])}),S(j=>{let ee=j,{[I]:H}=ee;return F(ee,[Ae(I)])})},[R,S]),N=(0,Ie.useCallback)((I,j)=>{R(H=>D(f({},H),{[I]:!0})),S(H=>D(f({},H),{[I]:j}))},[R,S]),O=(0,Ie.useCallback)((I,j)=>{S(te(I)),R(j),m(1)},[R,S,m]);(0,Ie.useEffect)(()=>{(0,ou.default)(s,M.current)||(M.current=s,S(s))});let{data:A,total:w,pageInfo:U,error:G,isFetching:$,isLoading:q,refetch:k}=nr(t,{target:o,id:(0,ru.default)(r,a),pagination:{page:p,perPage:h},sort:L,filter:v},{keepPreviousData:!0,onError:I=>d(typeof I=="string"?I:I.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof I=="string"?I:I&&I.message?I.message:void 0}})});return{sort:L,data:A,defaultTitle:null,displayedFilters:C,error:G,filterValues:v,hideFilter:E,isFetching:$,isLoading:q,onSelect:g.select,onToggleItem:g.toggle,onUnselectItems:g.clearSelection,page:p,perPage:h,refetch:k,resource:t,selectedIds:y,setFilters:O,setPage:m,setPerPage:x,hasNextPage:U?U.hasNextPage:w!=null?p*h<w:void 0,hasPreviousPage:U?U.hasPreviousPage:p>1,setSort:P,showFilter:N,total:w}},"useReferenceManyFieldController");var nu=b(require("lodash/get"));var Fp=n(e=>{let{reference:t,record:r,target:o,source:s="id"}=e,a=V(),{data:i,error:u,isFetching:c,isLoading:d,refetch:p}=nr(t,{target:o,id:(0,nu.default)(r,s),pagination:{page:1,perPage:1},sort:{field:"id",order:"ASC"},filter:{}},{enabled:!!r,onError:m=>a(typeof m=="string"?m:m.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof m=="string"?m:m&&m.message?m.message:void 0}})});return{referenceRecord:i?i[0]:void 0,error:u,isFetching:c,isLoading:d,refetch:p}},"useReferenceOneFieldController");var su=n(e=>e&&e.error!==void 0,"isMatchingReferencesError"),au=n(({field:e,matchingReferences:t,referenceRecord:r,translate:o=n(s=>s,"translate")})=>{let s=su(t)?o(t.error,{_:t.error}):null,a=e.value&&!r?o("ra.input.references.single_missing",{_:"ra.input.references.single_missing"}):null;return{waiting:e.value&&a&&!t||!e.value&&!t,error:e.value&&a&&s||!e.value&&s?e.value?a:s:null,warning:a||s,choices:Array.isArray(t)?t:[r].filter(i=>i)}},"getStatusForInput"),iu="REFERENCES_STATUS_READY",Np="REFERENCES_STATUS_INCOMPLETE",gs="REFERENCES_STATUS_EMPTY",Rs=n((e,t)=>!e.value||e.value.length===t.length?iu:t.length>0?Np:gs,"getSelectedReferencesStatus"),cu=n(({field:e,matchingReferences:t,referenceRecords:r,translate:o=n(s=>s,"translate")})=>{let s=Rs(e,r),a=su(t)?o(t.error,{_:t.error}):null,i=Array.isArray(t)?r.concat(t.filter(u=>r.findIndex(c=>c.id===u.id)===-1)):r;return{waiting:!t&&e.value&&s===gs||!t&&!e.value,error:a&&(!e.value||e.value&&s===gs)?o("ra.input.references.all_missing",{_:"ra.input.references.all_missing"}):null,warning:a||e.value&&s!==iu?a||o("ra.input.references.many_missing",{_:"ra.input.references.many_missing"}):null,choices:i}},"getStatusForArrayInput");var rn=require("react"),pu=require("react-hook-form");var ne=require("react"),uu=b(require("lodash/debounce"));var tn=n(({resource:e,filter:t,sort:r=kp,page:o=1,perPage:s=10,debounce:a=500})=>{let[i,u]=(0,ne.useState)(jp),c=(0,ne.useRef)(),d=[e,JSON.stringify(i),JSON.stringify(t),JSON.stringify(r),o,s],p=(0,ne.useMemo)(()=>Op({params:i,filterDefaultValues:t,sort:r,page:o,perPage:s}),d),m=(0,ne.useCallback)(R=>{c.current?c.current=Pr(c.current,R):(c.current=Pr(p,R),setTimeout(()=>{u(c.current),c.current=void 0},0))},d),h=(0,ne.useCallback)(R=>m({type:xt,payload:R}),d),x=(0,ne.useCallback)(R=>m({type:rt,payload:R}),d),L=(0,ne.useCallback)(R=>m({type:Ct,payload:R}),d),T=p.filter||du,P=p.displayedFilters||du,y=(0,uu.default)((R,v)=>{m({type:Ve,payload:{filter:te(R),displayedFilters:v}})},a),g=(0,ne.useCallback)((R,v,S=!0)=>{S?y(R,v):m({type:Ve,payload:{filter:te(R),displayedFilters:v}})},d),M=(0,ne.useCallback)(R=>{m({type:Mt,payload:R})},d),C=(0,ne.useCallback)((R,v)=>{m({type:Tt,payload:{filterName:R,defaultValue:v}})},d);return[f({displayedFilters:P,filterValues:T,requestSignature:d},p),{changeParams:m,setPage:x,setPerPage:L,setSort:h,setFilters:g,hideFilter:M,showFilter:C}]},"useReferenceParams");var Op=n(({params:e,filterDefaultValues:t,sort:r,page:o,perPage:s})=>{let a=Up(e)?f({},e):{filter:t||{}};return a.sort||(a.sort=r.field,a.order=r.order),a.page==null&&(a.page=o),a.perPage==null&&(a.perPage=s),a.page==null&&(a.page=1),D(f({},a),{page:lu(a.page,1),perPage:lu(a.perPage,10)})},"getQuery"),Up=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),lu=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),du={},kp={field:"id",order:ce},jp={};var Vp=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:s=1,perPage:a=25,sort:i={field:"id",order:"DESC"},queryOptions:u={},reference:c,source:d}=e,p=(0,pu.useWatch)({name:d}),{data:m,error:h,isLoading:x,isFetching:L,refetch:T}=Ke(c,{ids:p||Gp},{enabled:p!=null&&p.length>0}),[P,y]=tn({resource:c,page:s,perPage:a,sort:i,debounce:t,filter:o}),g=m?m.filter(Boolean):[],M=r?r(P.filterValues):!0,{data:C,total:R,pageInfo:v,error:S,isLoading:E,isFetching:N,refetch:O}=qe(c,{pagination:{page:P.page,perPage:P.perPage},sort:{field:P.sort,order:P.order},filter:f(f({},P.filter),o)},f({retry:!1,enabled:M},u)),A=C&&C.length>0?Qp(C,g):g.length>0?g:C,w=(0,rn.useCallback)(()=>{T(),O()},[T,O]);return{sort:(0,rn.useMemo)(()=>({field:P.sort,order:P.order}),[P.sort,P.order]),allChoices:A,availableChoices:C,selectedChoices:g,displayedFilters:P.displayedFilters,error:h||S,filter:o,filterValues:P.filterValues,hideFilter:y.hideFilter,isFetching:L||N,isLoading:x||E,page:P.page,perPage:P.perPage,refetch:w,resource:c,setFilters:y.setFilters,setPage:y.setPage,setPerPage:y.setPerPage,setSort:y.setSort,showFilter:y.showFilter,source:d,total:R,hasNextPage:v?v.hasNextPage:R!=null?P.page*P.perPage<R:void 0,hasPreviousPage:v?v.hasPreviousPage:P.page>1}},"useReferenceArrayInputController"),Gp=[],Qp=n((e,t)=>{let r=[...e],o=e.map(s=>s.id);return t.forEach(s=>{o.includes(s.id)||(o.push(s.id),r.push(s))}),r},"mergeReferences");var on=require("react"),mu=require("react-hook-form");var Ps=n(({reference:e,id:t})=>{let{data:r,error:o,isLoading:s,isFetching:a,refetch:i}=Ke(e,{ids:[t]});return{referenceRecord:o?void 0:r?r[0]:void 0,refetch:i,error:o,isLoading:s,isFetching:a}},"useReference");var _p=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:s=1,perPage:a=25,sort:i,queryOptions:u={},reference:c,source:d}=e,[p,m]=tn({resource:c,page:s,perPage:a,sort:i,debounce:t,filter:o}),h=(0,mu.useWatch)({name:d}),x=r?r(p.filterValues):!0,{data:L=[],total:T,pageInfo:P,isFetching:y,isLoading:g,error:M,refetch:C}=qe(c,{pagination:{page:p.page,perPage:p.perPage},sort:{field:p.sort,order:p.order},filter:f(f({},p.filter),o)},f({enabled:x},u)),{referenceRecord:R,refetch:v,error:S,isLoading:E,isFetching:N}=Ps({id:h,reference:c}),O,A;!R||L.find(G=>G.id===h)?(O=L,A=T):(O=[R,...L],A=T==null?void 0:T+1);let w=(0,on.useCallback)(()=>{C(),v()},[C,v]);return{sort:(0,on.useMemo)(()=>({field:p.sort,order:p.order}),[p.sort,p.order]),allChoices:O,availableChoices:L,selectedChoices:[R],displayedFilters:p.displayedFilters,error:S||M,filter:p.filter,filterValues:p.filterValues,hideFilter:m.hideFilter,isFetching:N||y,isLoading:E||g,page:p.page,perPage:p.perPage,refetch:w,resource:c,setFilters:m.setFilters,setPage:m.setPage,setPerPage:m.setPerPage,setSort:m.setSort,showFilter:m.showFilter,source:d,total:A,hasNextPage:P?P.hasNextPage:T!=null?p.page*p.perPage<T:void 0,hasPreviousPage:P?P.hasPreviousPage:p.page>1}},"useReferenceInputController");var Cs=b(require("react"));var fu=require("react-router-dom");var Ir=n((e={})=>{let{disableAuthentication:t,id:r,queryOptions:o={}}=e;se({enabled:!t});let s=z(e),a=_(),i=V(),u=pe(),c=rr(),{id:d}=(0,fu.useParams)(),p=r||decodeURIComponent(d),{data:m,error:h,isLoading:x,isFetching:L,refetch:T}=or(s,{id:p},f({onError:()=>{i("ra.notification.item_doesnt_exist",{type:"warning"}),u("list",s),c()},retry:!1},o));if(m&&m.id&&m.id!=p)throw new Error(`useShowController: Fetched record's id attribute (${m.id}) must match the requested 'id' (${p})`);let P=we();return{defaultTitle:a("ra.page.show",{name:P(s,1),id:p,record:m}),error:h,isLoading:x,isFetching:L,record:m,refetch:T,resource:s}},"useShowController");var hs=b(require("react"));var yu=require("react"),Nt=(0,yu.createContext)({record:null,defaultTitle:null,isFetching:null,isLoading:null,refetch:null,resource:null});Nt.displayName="ShowContext";var xs=n(({children:e,value:t})=>hs.createElement(Nt.Provider,{value:t},hs.createElement(Pe,{value:t&&t.record},e)),"ShowContextProvider");var zp=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=Ir(t),a=Cs.createElement(xs,{value:s},e);return t.resource?Cs.createElement(ye,{value:t.resource},a):a},"ShowBase");var Wp=n(r=>{var o=r,{children:e}=o,t=F(o,["children"]);let s=Ir(t);return e(s)},"ShowController");var nn=require("react"),gu=b(require("lodash/defaults"));var Hp=n(e=>{let t=(0,nn.useContext)(Nt);return(0,nn.useMemo)(()=>(0,gu.default)({},e!=null?Yp(e):{},t),[t,e])},"useShowContext"),Yp=n(({record:e,data:t,defaultTitle:r,isFetching:o,isLoading:s,resource:a})=>({record:e||t,data:e||t,defaultTitle:r,isFetching:o,isLoading:s,resource:a}),"extractShowContextProps");var Ru=b(require("react")),Pu=require("react-hook-form"),hu=b(require("lodash/get"));var Jp=n(e=>{let t=(0,Pu.useWatch)();return Ru.createElement($p,f({formData:t},e))},"FormDataConsumer"),$p=n(e=>{let m=e,{children:t,form:r,formData:o,source:s,index:a}=m,i=F(m,["children","form","formData","source","index"]),u=o,c,d=!1,p;return typeof a!="undefined"?(u=(0,hu.default)(o,s),c=n(h=>(d=!0,`${s}.${h}`),"getSource"),p=t(f({formData:o,scopedFormData:u,getSource:c},i))):p=t(f({formData:o},i)),lt(typeof a!="undefined"&&p&&!d,`You're using a FormDataConsumer inside an ArrayInput and you did not call the getSource function supplied by the FormDataConsumer component. This is required for your inputs to get the proper source.

<ArrayInput source="users">
    <SimpleFormIterator>
        <TextInput source="name" />

        <FormDataConsumer>
            {({
                formData, // The whole form data
                scopedFormData, // The data for this item of the ArrayInput
                getSource, // A function to get the valid source inside an ArrayInput
                ...rest,
            }) =>
                scopedFormData.name ? (
                    <SelectInput
                        source={getSource('role')} // Will translate to "users[0].role"
                        choices={[{id: 1, name: 'Admin'}, {id: 2, name: 'User'},
                        {...rest}
                    />
                ) : null
            }
        </FormDataConsumer>
    </SimpleFormIterator>
</ArrayInput>`),p===void 0?null:p},"FormDataConsumerView"),xu=Jp;var Cu=require("react"),Ot=(0,Cu.createContext)(void 0);var Ut=b(require("react"));var Zp=n(e=>{let{error:t}=e,r=_();if(t.message){let{message:o,args:s}=t;return Ut.createElement(Ut.Fragment,null,r(o,f({_:o},s)))}return Ut.createElement(Ut.Fragment,null,r(t,{_:t}))},"ValidationError"),Tu=Zp;var sn=b(require("lodash")),Mu=n((e,t=[])=>sn.default.isObject(e)?sn.default.reduce(e,(r,o,s)=>sn.default.merge(r,Mu(o,[...t,s])),{}):{[t.join(".")]:e},"flattenKeys"),an=n(e=>async t=>{let r=await e(t);if(!r||Object.getOwnPropertyNames(r).length===0)return{values:t,errors:{}};let o=Mu(r);return{values:{},errors:Object.keys(o).reduce((s,a)=>D(f({},s),{[a]:{type:"manual",message:o[a]}}),{})}},"getSimpleValidationResolver");var Su=require("react"),Ar=(0,Su.createContext)(void 0);var Lu=b(require("react"));var Bp=n(({children:e,value:t})=>Lu.createElement(Ar.Provider,{value:t},e),"ChoicesContextProvider");var cn=require("react");var qp=n((e={})=>{let t=(0,cn.useContext)(Ar),a=Dr({data:e.choices}),{data:r}=a,o=F(a,["data"]);return(0,cn.useMemo)(()=>{var i,u,c,d,p,m,h,x,L,T,P,y,g,M,C,R,v,S,E,N,O,A,w,U,G,$,q,k,I,j,H,J,ee,Z,He,_t,Ns,Os,Us,ks,js,Vs,Gs,Qs,_s,zs;return{allChoices:(i=t==null?void 0:t.allChoices)!=null?i:r,availableChoices:(c=(u=t==null?void 0:t.availableChoices)!=null?u:e.availableChoices)!=null?c:r,selectedChoices:(p=(d=t==null?void 0:t.selectedChoices)!=null?d:e.selectedChoices)!=null?p:r,displayedFilters:(h=(m=t==null?void 0:t.displayedFilters)!=null?m:e.displayedFilters)!=null?h:o.displayedFilters,error:(L=(x=t==null?void 0:t.error)!=null?x:e.error)!=null?L:o.error,filter:(P=(T=t==null?void 0:t.filter)!=null?T:e.filter)!=null?P:o.filter,filterValues:(g=(y=t==null?void 0:t.filterValues)!=null?y:e.filterValues)!=null?g:o.filterValues,hasNextPage:(C=(M=t==null?void 0:t.hasNextPage)!=null?M:e.hasNextPage)!=null?C:o.hasNextPage,hasPreviousPage:(v=(R=t==null?void 0:t.hasPreviousPage)!=null?R:e.hasPreviousPage)!=null?v:o.hasPreviousPage,hideFilter:(E=(S=t==null?void 0:t.hideFilter)!=null?S:e.hideFilter)!=null?E:o.hideFilter,isFetching:(O=(N=t==null?void 0:t.isFetching)!=null?N:e.isFetching)!=null?O:o.isFetching,isLoading:(w=(A=t==null?void 0:t.isLoading)!=null?A:e.isLoading)!=null?w:o.isLoading,page:(G=(U=t==null?void 0:t.page)!=null?U:e.page)!=null?G:o.page,perPage:(q=($=t==null?void 0:t.perPage)!=null?$:e.perPage)!=null?q:o.perPage,refetch:(I=(k=t==null?void 0:t.refetch)!=null?k:e.refetch)!=null?I:o.refetch,resource:(H=(j=t==null?void 0:t.resource)!=null?j:e.resource)!=null?H:o.resource,setFilters:(ee=(J=t==null?void 0:t.setFilters)!=null?J:e.setFilters)!=null?ee:o.setFilters,setPage:(He=(Z=t==null?void 0:t.setPage)!=null?Z:e.setPage)!=null?He:o.setPage,setPerPage:(Ns=(_t=t==null?void 0:t.setPerPage)!=null?_t:e.setPerPage)!=null?Ns:o.setPerPage,setSort:(Us=(Os=t==null?void 0:t.setSort)!=null?Os:e.setSort)!=null?Us:o.setSort,showFilter:(js=(ks=t==null?void 0:t.showFilter)!=null?ks:e.showFilter)!=null?js:o.showFilter,sort:(Gs=(Vs=t==null?void 0:t.sort)!=null?Vs:e.sort)!=null?Gs:o.sort,source:(Qs=t==null?void 0:t.source)!=null?Qs:e.source,total:(zs=(_s=t==null?void 0:t.total)!=null?_s:e.total)!=null?zs:o.total}},[t,r,o,e])},"useChoicesContext");var Gt=b(require("react")),Iu=require("react-hook-form");var bu=b(require("react")),Fr=require("react");var Ts=n(({children:e})=>{let t=(0,Fr.useRef)({}),r=(0,Fr.useRef)({}),o=(0,Fr.useMemo)(()=>({subscribe:(s,a)=>(r.current[s]||(r.current[s]=[]),r.current[s].push(a),()=>{r.current[s]=r.current[s].filter(i=>i!==a)}),getGroupFields:s=>t.current[s]||[],registerGroup:s=>{t.current[s]=t.current[s]||[]},unregisterGroup:s=>{delete t[s]},registerField:(s,a)=>{a!=null&&((t.current[a]||[]).includes(s)||(t.current[a]=[...t.current[a]||[],s],r.current[a]&&r.current[a].forEach(i=>i())))},unregisterField:(s,a)=>{if(a!=null)if(!t.current[a])console.warn(`Invalid form group ${a}`);else{let i=new Set(t.current[a]);i.delete(s),t.current[a]=Array.from(i),r.current[a]&&r.current[a].forEach(u=>u())}}}),[]);return bu.createElement(Ot.Provider,{value:o},e)},"FormGroupsProvider");var Qe=require("react"),Du=require("react-hook-form");var vu=b(require("lodash/merge"));function kt(e,t){return(0,vu.default)({},Kp(e,t),t)}n(kt,"getFormInitialValues");function Kp(e,t){return typeof e=="object"?e:typeof e=="function"?e(t):{}}n(Kp,"getValues");var Ms=n((e,t)=>{let r=n((s,a)=>{s.forEach((i,u)=>{if(typeof i=="object"){o(i,`${a}.${u}.`);return}if(Array.isArray(i)){r(i,`${a}.${u}.`);return}t(`${a}.${u}`,{type:"server",message:i.toString()})})},"setErrorFromArray"),o=n((s,a)=>{Object.entries(s).forEach(([i,u])=>{if(typeof u=="object"){o(u,`${a}${i}.`);return}if(Array.isArray(u)){r(u,`${a}${i}.`);return}t(`${a}${i}`,{type:"server",message:u.toString()})})},"setErrorFromObject");o(e,"")},"setSubmissionErrors");var jt=require("react"),Eu=require("react-hook-form"),Ss=n(e=>{let[t,r]=(0,jt.useState)(!1),{isValid:o,submitCount:s,errors:a}=(0,Eu.useFormState)(e?{control:e}:void 0),i=(0,jt.useRef)(s);return(0,jt.useEffect)(()=>{s>i.current&&(i.current=s,Object.keys(a).length>0&&!o?r(!0):r(!1))},[a,o,s]),t},"useIsFormInvalid");var Vt=require("react"),wu=require("react-hook-form"),un=require("react-router-dom");var Ls=n((e,t,r)=>{let o=(0,Vt.useContext)(un.UNSAFE_NavigationContext).navigator,s=(0,un.useLocation)(),a=_(),{isSubmitSuccessful:i,isSubmitting:u,dirtyFields:c}=(0,wu.useFormState)(r?{control:r}:void 0),d=Object.keys(c).length>0,p=(0,Vt.useRef)(t||s.pathname);(0,Vt.useEffect)(()=>{if(!e||!d)return;let m=o.block(h=>{let x=h.location.pathname.startsWith(p.current);!u&&(x||i||window.confirm(a("ra.message.unsaved_changes")))&&(m(),h.retry())});return m},[e,s,o,d,u,i,a])},"useWarnWhenUnsavedChanges");var bs=n(e=>{let{context:t,criteriaMode:r="firstError",defaultValues:o,delayError:s,formRootPathname:a,mode:i,resolver:u,reValidateMode:c="onChange",onSubmit:d,shouldFocusError:p,shouldUnregister:m,shouldUseNativeValidation:h,warnWhenUnsavedChanges:x,validate:L}=e,T=he(e),P=Mr(),y=(0,Qe.useMemo)(()=>kt(o,T),[JSON.stringify({defaultValues:o,record:T})]),g=u||(L?an(L):void 0),M=(0,Du.useForm)({context:t,criteriaMode:r,defaultValues:y,delayError:s,mode:i,reValidateMode:c,resolver:g,shouldFocusError:p,shouldUnregister:m,shouldUseNativeValidation:h});(0,Qe.useEffect)(()=>{if(!T)return;let E=kt(o,T);M.reset(E)},[M.reset,JSON.stringify(T,o)]);let C=Ss(M.control),R=V();(0,Qe.useEffect)(()=>{C&&R("ra.message.invalid_form",{type:"warning"})},[C,R]),Ls(x,a,M.control);let v=(0,Qe.useCallback)(async E=>{let N;d&&(N=await d(E)),d==null&&(P==null?void 0:P.save)&&(N=await P.save(E)),N!=null&&Ms(N,M.setError)},[M,d,P]),S=(0,Qe.useCallback)(E=>{E.stopPropagation(),M.handleSubmit(v)(E)},[M,v]);return{form:M,handleSubmit:v,formHandleSubmit:S,isInvalid:C}},"useAugmentedForm");var Xp=n(e=>{let{children:t,id:r,className:o,noValidate:s=!1}=e,a=he(e),i=z(e),{form:u,formHandleSubmit:c}=bs(e);return Gt.createElement(ss,{value:a},Gt.createElement(In,{prefix:`resources.${i}.fields`},Gt.createElement(Iu.FormProvider,f({},u),Gt.createElement(Ts,null,Gt.createElement("form",{onSubmit:c,noValidate:s,id:r,className:o},t)))))},"Form");var vs=b(require("lodash/memoize")),em=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_e=n(e=>typeof e=="undefined"||e===null||e===""||Array.isArray(e)&&e.length===0,"isEmpty");function tm(e){return e.hasOwnProperty("message")}n(tm,"isValidationErrorMessageWithArgs");var ze=n((e,t,r,o)=>typeof e=="function"?e({args:t,value:r,values:o}):t?{message:e,args:t}:e,"getMessage"),We=n(e=>(0,vs.default)(e,(...t)=>JSON.stringify(t)),"memoize"),Au=n(e=>typeof e=="function","isFunction"),Fu=n((e,t)=>(r,o,s)=>{let a=e(r,o,s);return a?typeof a=="string"||tm(a)?a:a.then(i=>i||t(r,o,s)):t(r,o,s)},"combine2Validators"),Es=n((...e)=>(Array.isArray(e[0])?e[0]:e).filter(Au).reduce(Fu,()=>null),"composeValidators"),rm=n((...e)=>(t,r,o)=>{let s=(Array.isArray(e[0])?e[0]:e).filter(Au);for(let a of s){let i=a(t,r,o);if(i)return i}},"composeSyncValidators"),om=We((e="ra.validation.required")=>Object.assign((t,r)=>_e(t)?ze(e,void 0,t,r):void 0,{isRequired:!0})),nm=We((e,t="ra.validation.minLength")=>(r,o)=>!_e(r)&&r.length<e?ze(t,{min:e},r,o):void 0),sm=We((e,t="ra.validation.maxLength")=>(r,o)=>!_e(r)&&r.length>e?ze(t,{max:e},r,o):void 0),am=We((e,t="ra.validation.minValue")=>(r,o)=>!_e(r)&&r<e?ze(t,{min:e},r,o):void 0),im=We((e,t="ra.validation.maxValue")=>(r,o)=>!_e(r)&&r>e?ze(t,{max:e},r,o):void 0),cm=We((e="ra.validation.number")=>(t,r)=>!_e(t)&&isNaN(Number(t))?ze(e,void 0,t,r):void 0),Nu=(0,vs.default)((e,t="ra.validation.regex")=>(r,o)=>!_e(r)&&typeof r=="string"&&!e.test(r)?ze(t,{pattern:e},r,o):void 0,(e,t)=>e.toString()+t),um=We((e="ra.validation.email")=>Nu(em,e)),lm=n(({args:e})=>({message:"ra.validation.oneOf",args:e}),"oneOfTypeMessage"),dm=We((e,t=lm)=>(r,o)=>!_e(r)&&e.indexOf(r)===-1?ze(t,{list:e},r,o):void 0),pm=n(e=>e&&e.isRequired?!0:Array.isArray(e)?!!e.find(t=>t.isRequired):!1,"isRequired");var Ou=require("react"),Nr=(0,Ou.createContext)(void 0);var ku=b(require("react")),ju=require("react");var Uu=require("react");var Qt=n(()=>(0,Uu.useContext)(Ot),"useFormGroups");var mm=n(({children:e,name:t})=>{let r=Qt();return(0,ju.useEffect)(()=>{if(!r||!r.registerGroup||!r.unregisterGroup){console.warn("The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components");return}return r.registerGroup(t),()=>{r.unregisterGroup(t)}},[r,t]),ku.createElement(Nr.Provider,{value:t},e)},"FormGroupContextProvider");var Vu=require("react"),Gu=require("react-hook-form"),ln=b(require("lodash/get"));var ws=n(e=>{let{defaultValue:t,source:r}=e,o=he(e),{getValues:s,resetField:a}=(0,Gu.useFormContext)(),i=(0,ln.default)(o,r),u=(0,ln.default)(s(),r);(0,Vu.useEffect)(()=>{if(t!=null&&u==null&&i==null){if(r.split(".").some(d=>fm.test(d))){let d=r.split(".").slice(0,-1).join(".");if((0,ln.default)(s(),d)==null)return}a(r,{defaultValue:t})}})},"useApplyInputDefaultValues"),fm=/^\d+$/;var Qu=b(require("react")),ot=require("react"),dn=b(require("lodash/get"));var Ds=n(({optionText:e="name",optionValue:t="id",disableValue:r="disabled",translateChoice:o=!0})=>{let s=_(),a=(0,ot.useCallback)(c=>{if((0,ot.isValidElement)(e))return Qu.createElement(Pe,{value:c},e);let d=typeof e=="function"?e(c):(0,dn.default)(c,e);return(0,ot.isValidElement)(d)?d:o?s(String(d),{_:d}):String(d)},[e,s,o]),i=(0,ot.useCallback)(c=>(0,dn.default)(c,t),[t]),u=(0,ot.useCallback)(c=>(0,dn.default)(c,r),[r]);return{getChoiceText:a,getChoiceValue:i,getDisableValue:u}},"useChoices");var nt=require("react"),Or=b(require("lodash/get")),_u=b(require("lodash/isEqual")),zu=require("react-hook-form");var ym=n(e=>{let{dirtyFields:t,touchedFields:r,errors:o}=(0,zu.useFormState)(),s=Qt(),[a,i]=(0,nt.useState)({errors:void 0,isDirty:!1,isTouched:!1,isValid:!0}),u=(0,nt.useCallback)(()=>{let d=s.getGroupFields(e).map(m=>({name:m,error:(0,Or.default)(o,m,void 0),isDirty:(0,Or.default)(t,m,!1),isValid:(0,Or.default)(o,m,void 0)==null,isTouched:(0,Or.default)(r,m,!1)})).filter(m=>m!=null),p=Wu(d);i(m=>(0,_u.default)(m,p)?m:p)},[t,o,r,s,e]);return(0,nt.useEffect)(()=>{u()},[JSON.stringify({dirtyFields:t,errors:o,touchedFields:r}),u]),(0,nt.useEffect)(()=>s.subscribe(e,()=>{u()}),[s,e,u]),a},"useFormGroup"),Wu=n(e=>e.reduce((t,r)=>{let o=t.errors||{};return r.error&&(o[r.name]=r.error),{isDirty:t.isDirty||r.isDirty,errors:o,isTouched:t.isTouched||r.isTouched,isValid:t.isValid&&r.isValid}},{isDirty:!1,errors:void 0,isValid:!0,isTouched:!1}),"getFormGroupState");var Hu=require("react");var Is=n(()=>(0,Hu.useContext)(Nr),"useFormGroupContext");var As=n(()=>{let e=_();return t=>{if(t.message!=null){let{message:r,args:o}=t;return e(r,f({_:r},o))}return e(t,{_:t})}},"useGetValidationErrorMessage");var Yu=require("react"),Ju=require("react-hook-form");var gm=n((e,t)=>{let{reset:r}=(0,Ju.useFormContext)();(0,Yu.useEffect)(()=>{if(!t)return;let o=kt(e,t);r(o)},[r,JSON.stringify(t,e)])},"useInitializeFormWithRecord");var Zu=require("react"),pn=require("react-hook-form"),Bu=b(require("lodash/get"));var Rm=n(e=>e&&e.isRequired?!0:Array.isArray(e)?e.some(t=>t.isRequired):!1,"isRequired"),$u=Rm;var Pm=n(e=>{let S=e,{defaultValue:t,format:r,id:o,isRequired:s,name:a,onBlur:i,onChange:u,parse:c,source:d,validate:p}=S,m=F(S,["defaultValue","format","id","isRequired","name","onBlur","onChange","parse","source","validate"]),h=a||d,x=Is(),L=Qt(),T=he(),P=As(),y=(0,pn.useFormContext)();(0,Zu.useEffect)(()=>{if(!(!L||x==null))return L.registerField(d,x),()=>{L.unregisterField(d,x)}},[L,x,d]);let g=Array.isArray(p)?Es(p):p,{field:M,fieldState:C,formState:R}=(0,pn.useController)(f({name:h,defaultValue:(0,Bu.default)(T,d,t),rules:{validate:async E=>{if(!g)return!0;let N=await g(E,y.getValues(),e);return N?P(N):!0}}},m));ws(e);let v=D(f({},M),{value:r?r(M.value):M.value,onBlur:(...E)=>{i&&i(...E),M.onBlur()},onChange:(...E)=>{var O,A,w,U,G,$,q;u&&u(...E);let N=typeof((A=(O=E[0])==null?void 0:O.target)==null?void 0:A.checked)=="boolean"&&((U=(w=E[0])==null?void 0:w.target)==null?void 0:U.value)==="on"?E[0].target.checked:(q=($=(G=E[0])==null?void 0:G.target)==null?void 0:$.value)!=null?q:E[0];M.onChange(c?c(N):N)}});return{id:o||d,field:v,fieldState:C,formState:R,isRequired:s||$u(p)}},"useInput");var mn=require("react"),Fs=b(require("lodash/set"));var hm=n(({allowCreate:e,choices:t,createText:r="ra.action.create",createValue:o="@@create",emptyText:s="",emptyValue:a=null,limitChoicesToValue:i,matchSuggestion:u,optionText:c,optionValue:d,selectedItem:p,suggestionLimit:m=0,translateChoice:h})=>{let x=_(),{getChoiceText:L,getChoiceValue:T}=Ds({optionText:c,optionValue:d,translateChoice:h}),P=(0,mn.useCallback)(qu({allowCreate:e,choices:t,createText:r,createValue:o,emptyText:x(s,{_:s}),emptyValue:a,getChoiceText:L,getChoiceValue:T,limitChoicesToValue:i,matchSuggestion:u,optionText:c,optionValue:d,selectedItem:p,suggestionLimit:m}),[e,t,r,o,s,a,L,T,i,u,c,d,p,m,x]);return{getChoiceText:L,getChoiceValue:T,getSuggestions:P}},"useSuggestions"),xm=n(e=>e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):"","escapeRegExp"),Cm=n(e=>(t,r,o=!1)=>{let s=e(r),a=(0,mn.isValidElement)(s),i=xm(t);return a?!1:s&&!!s.match(new RegExp(o?`^${i}$`:i,"i"))},"defaultMatchSuggestion"),qu=n(({allowCreate:e=!1,choices:t=[],createText:r="ra.action.create",createValue:o="@@create",emptyText:s="",emptyValue:a=null,optionText:i="name",optionValue:u="id",getChoiceText:c,getChoiceValue:d,limitChoicesToValue:p=!1,matchSuggestion:m=Cm(c),selectedItem:h,suggestionLimit:x=0})=>L=>{let T=[];h&&!Array.isArray(h)&&m(L,h)?p?T=t.filter(g=>d(g)===d(h)):T=[...t]:T=t.filter(g=>m(L,g)||h!=null&&(Array.isArray(h)?h.some(M=>d(g)===d(M)):d(g)===d(h))),T=Tm(T,x);let P=T.some(g=>m(L,g,!0));if(e){let g=!!h&&!Array.isArray(h)?m(L,h,!0):!1;!P&&!g&&T.push(Mm({optionText:i,optionValue:u,text:r,value:o}))}return T.filter((g,M)=>T.indexOf(g)===M)},"getSuggestionsFactory"),Tm=n((e,t=0)=>Number.isInteger(t)&&t>0?e.slice(0,t):e,"limitSuggestions"),Mm=n(({optionText:e="name",optionValue:t="id",text:r="",value:o=null})=>{let s={};return(0,Fs.default)(s,t,o),typeof e=="string"&&(0,Fs.default)(s,e,r),s},"getSuggestion");var Sm="I18N_TRANSLATE",Lm="I18N_CHANGE_LOCALE";module.exports=nl(bm);0&&(module.exports={AUTH_CHECK,AUTH_ERROR,AUTH_GET_PERMISSIONS,AUTH_LOGIN,AUTH_LOGOUT,AdminRouter,AuthContext,Authenticated,BasenameContextProvider,CREATE,ChoicesContext,ChoicesContextProvider,ComponentPropType,CoreAdmin,CoreAdminContext,CoreAdminRoutes,CoreAdminUI,CreateBase,CreateContext,CreateContextProvider,CreateController,CustomRoutes,DEFAULT_LOCALE,DELETE,DELETE_MANY,DataProviderContext,EditBase,EditContext,EditContextProvider,EditController,ExporterContext,FieldTitle,Form,FormDataConsumer,FormGroupContext,FormGroupContextProvider,FormGroupsContext,FormGroupsProvider,GET_LIST,GET_MANY,GET_MANY_REFERENCE,GET_ONE,HIDE_FILTER,HttpError,I18N_CHANGE_LOCALE,I18N_TRANSLATE,I18nContext,I18nContextProvider,InferenceTypes,InferredElement,LabelPrefixContext,LabelPrefixContextProvider,ListBase,ListContext,ListContextProvider,ListController,ListFilterContext,ListPaginationContext,ListSortContext,NotificationContext,NotificationContextProvider,OptionalRecordContextProvider,Ready,RecordContext,RecordContextProvider,Resource,ResourceContext,ResourceContextProvider,ResourceDefinitionContext,ResourceDefinitionContextProvider,SET_FILTER,SET_PAGE,SET_PER_PAGE,SET_SORT,SHOW_FILTER,SORT_ASC,SORT_DESC,SaveContext,SaveContextProvider,ShowBase,ShowContext,ShowContextProvider,ShowController,StoreContext,StoreContextProvider,StoreSetter,TestTranslationProvider,TranslatableContext,TranslatableContextProvider,UPDATE,UPDATE_MANY,ValidationError,WithPermissions,WithRecord,choices,combine2Validators,combineDataProviders,composeSyncValidators,composeValidators,convertLegacyAuthProvider,convertLegacyDataProvider,defaultDataProvider,defaultExporter,downloadCSV,email,escapePath,fetchActionsWithArrayOfIdentifiedRecordsResponse,fetchActionsWithArrayOfRecordsResponse,fetchActionsWithRecordResponse,fetchActionsWithTotalResponse,fetchRelatedRecords,fetchUtils,getElementsFromRecords,getFieldLabelTranslationArgs,getFormGroupState,getListControllerProps,getMutationMode,getNumberOrDefault,getQuery,getRecordFromLocation,getSelectedReferencesStatus,getSimpleValidationResolver,getStatusForArrayInput,getStatusForInput,getStorage,getSuggestionsFactory,getValuesFromRecords,hasCustomParams,inferTypeFromValues,injectedProps,isRequired,linkToRecord,localStorageStore,maxLength,maxValue,memoryStore,mergeRefs,mergeTranslations,minLength,minValue,number,parseQueryFromLocation,queryReducer,regex,removeDoubleSlashes,removeEmpty,removeKey,required,resolveBrowserLocale,resolveRedirectTo,sanitizeFetchType,sanitizeListRestProps,setSubmissionErrors,shallowEqual,testDataProvider,undoableEventEmitter,useApplyInputDefaultValues,useAugmentedForm,useAuthProvider,useAuthState,useAuthenticated,useBasename,useCheckAuth,useCheckMinimumRequiredProps,useChoices,useChoicesContext,useCreate,useCreateContext,useCreateController,useCreatePath,useDataProvider,useDeepCompareEffect,useDelete,useDeleteMany,useDeleteWithConfirmController,useDeleteWithUndoController,useEditContext,useEditController,useEventCallback,useExpanded,useFilterState,useFormGroup,useFormGroupContext,useGetIdentity,useGetList,useGetMany,useGetManyAggregate,useGetManyReference,useGetOne,useGetPermissions,useGetResourceLabel,useGetValidationErrorMessage,useI18nProvider,useInitializeFormWithRecord,useInput,useIsDataLoaded,useIsFormInvalid,useIsMounted,useLabelPrefix,useList,useListContext,useListController,useListFilterContext,useListPaginationContext,useListParams,useListSortContext,useLoading,useLocale,useLocaleState,useLocales,useLogin,useLogout,useLogoutIfAccessDenied,useMutationMiddlewares,useNotificationContext,useNotify,usePaginationState,usePermissions,usePermissionsOptimized,usePickFilterContext,usePickPaginationContext,usePickSaveContext,usePickSortContext,usePrevious,useRecordContext,useRecordSelection,useRedirect,useReference,useReferenceArrayFieldController,useReferenceArrayInputController,useReferenceInputController,useReferenceManyFieldController,useReferenceOneFieldController,useRefresh,useRegisterMutationMiddleware,useRemoveFromStore,useResetStore,useResourceContext,useResourceDefinition,useResourceDefinitionContext,useResourceDefinitions,useSafeSetState,useSaveContext,useScrollToTop,useSetLocale,useShowContext,useShowController,useSortState,useStore,useStoreContext,useSuggestions,useTimeout,useTranslatable,useTranslatableContext,useTranslate,useTranslateLabel,useUnselect,useUnselectAll,useUpdate,useUpdateMany,useWarnWhenUnsavedChanges,useWhyDidYouUpdate,validQueryParams,warning});
//# sourceMappingURL=index.js.map